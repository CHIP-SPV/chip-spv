\hypertarget{picojson_8h_source}{}\doxysection{picojson.\+h}
\label{picojson_8h_source}\index{/Users/pvelesko/local/CHIP-\/SPV/HIP/tests/catch/external/picojson/picojson.h@{/Users/pvelesko/local/CHIP-\/SPV/HIP/tests/catch/external/picojson/picojson.h}}

\begin{DoxyCode}{0}
\DoxyCodeLine{1 \textcolor{comment}{/*}}
\DoxyCodeLine{2 \textcolor{comment}{ * Copyright 2009-\/2010 Cybozu Labs, Inc.}}
\DoxyCodeLine{3 \textcolor{comment}{ * Copyright 2011-\/2014 Kazuho Oku}}
\DoxyCodeLine{4 \textcolor{comment}{ * All rights reserved.}}
\DoxyCodeLine{5 \textcolor{comment}{ *}}
\DoxyCodeLine{6 \textcolor{comment}{ * Redistribution and use in source and binary forms, with or without}}
\DoxyCodeLine{7 \textcolor{comment}{ * modification, are permitted provided that the following conditions are met:}}
\DoxyCodeLine{8 \textcolor{comment}{ *}}
\DoxyCodeLine{9 \textcolor{comment}{ * 1. Redistributions of source code must retain the above copyright notice,}}
\DoxyCodeLine{10 \textcolor{comment}{ *    this list of conditions and the following disclaimer.}}
\DoxyCodeLine{11 \textcolor{comment}{ *}}
\DoxyCodeLine{12 \textcolor{comment}{ * 2. Redistributions in binary form must reproduce the above copyright notice,}}
\DoxyCodeLine{13 \textcolor{comment}{ *    this list of conditions and the following disclaimer in the documentation}}
\DoxyCodeLine{14 \textcolor{comment}{ *    and/or other materials provided with the distribution.}}
\DoxyCodeLine{15 \textcolor{comment}{ *}}
\DoxyCodeLine{16 \textcolor{comment}{ * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "{}AS IS"{}}}
\DoxyCodeLine{17 \textcolor{comment}{ * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE}}
\DoxyCodeLine{18 \textcolor{comment}{ * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE}}
\DoxyCodeLine{19 \textcolor{comment}{ * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE}}
\DoxyCodeLine{20 \textcolor{comment}{ * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR}}
\DoxyCodeLine{21 \textcolor{comment}{ * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF}}
\DoxyCodeLine{22 \textcolor{comment}{ * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS}}
\DoxyCodeLine{23 \textcolor{comment}{ * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN}}
\DoxyCodeLine{24 \textcolor{comment}{ * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)}}
\DoxyCodeLine{25 \textcolor{comment}{ * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE}}
\DoxyCodeLine{26 \textcolor{comment}{ * POSSIBILITY OF SUCH DAMAGE.}}
\DoxyCodeLine{27 \textcolor{comment}{ */}}
\DoxyCodeLine{28 \textcolor{preprocessor}{\#ifndef picojson\_h}}
\DoxyCodeLine{29 \textcolor{preprocessor}{\#define picojson\_h}}
\DoxyCodeLine{30 }
\DoxyCodeLine{31 \textcolor{preprocessor}{\#include <algorithm>}}
\DoxyCodeLine{32 \textcolor{preprocessor}{\#include <cstdio>}}
\DoxyCodeLine{33 \textcolor{preprocessor}{\#include <cstdlib>}}
\DoxyCodeLine{34 \textcolor{preprocessor}{\#include <cstring>}}
\DoxyCodeLine{35 \textcolor{preprocessor}{\#include <cstddef>}}
\DoxyCodeLine{36 \textcolor{preprocessor}{\#include <iostream>}}
\DoxyCodeLine{37 \textcolor{preprocessor}{\#include <iterator>}}
\DoxyCodeLine{38 \textcolor{preprocessor}{\#include <limits>}}
\DoxyCodeLine{39 \textcolor{preprocessor}{\#include <map>}}
\DoxyCodeLine{40 \textcolor{preprocessor}{\#include <stdexcept>}}
\DoxyCodeLine{41 \textcolor{preprocessor}{\#include <string>}}
\DoxyCodeLine{42 \textcolor{preprocessor}{\#include <vector>}}
\DoxyCodeLine{43 \textcolor{preprocessor}{\#include <utility>}}
\DoxyCodeLine{44 }
\DoxyCodeLine{45 \textcolor{comment}{// for isnan/isinf}}
\DoxyCodeLine{46 \textcolor{preprocessor}{\#if \_\_cplusplus >= 201103L}}
\DoxyCodeLine{47 \textcolor{preprocessor}{\#include <cmath>}}
\DoxyCodeLine{48 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{49 \textcolor{keyword}{extern} \textcolor{stringliteral}{"{}C"{}} \{}
\DoxyCodeLine{50 \textcolor{preprocessor}{\#ifdef \_MSC\_VER}}
\DoxyCodeLine{51 \textcolor{preprocessor}{\#include <float.h>}}
\DoxyCodeLine{52 \textcolor{preprocessor}{\#elif defined(\_\_INTEL\_COMPILER)}}
\DoxyCodeLine{53 \textcolor{preprocessor}{\#include <mathimf.h>}}
\DoxyCodeLine{54 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{55 \textcolor{preprocessor}{\#include <math.h>}}
\DoxyCodeLine{56 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{57 \}}
\DoxyCodeLine{58 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{59 }
\DoxyCodeLine{60 \textcolor{preprocessor}{\#ifndef PICOJSON\_USE\_RVALUE\_REFERENCE}}
\DoxyCodeLine{61 \textcolor{preprocessor}{\#if (defined(\_\_cpp\_rvalue\_references) \&\& \_\_cpp\_rvalue\_references >= 200610) || (defined(\_MSC\_VER) \&\& \_MSC\_VER >= 1600)}}
\DoxyCodeLine{62 \textcolor{preprocessor}{\#define PICOJSON\_USE\_RVALUE\_REFERENCE 1}}
\DoxyCodeLine{63 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{64 \textcolor{preprocessor}{\#define PICOJSON\_USE\_RVALUE\_REFERENCE 0}}
\DoxyCodeLine{65 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{66 \textcolor{preprocessor}{\#endif }\textcolor{comment}{// PICOJSON\_USE\_RVALUE\_REFERENCE}}
\DoxyCodeLine{67 }
\DoxyCodeLine{68 \textcolor{preprocessor}{\#ifndef PICOJSON\_NOEXCEPT}}
\DoxyCodeLine{69 \textcolor{preprocessor}{\#if PICOJSON\_USE\_RVALUE\_REFERENCE}}
\DoxyCodeLine{70 \textcolor{preprocessor}{\#define PICOJSON\_NOEXCEPT noexcept}}
\DoxyCodeLine{71 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{72 \textcolor{preprocessor}{\#define PICOJSON\_NOEXCEPT throw()}}
\DoxyCodeLine{73 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{74 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{75 }
\DoxyCodeLine{76 \textcolor{comment}{// experimental support for int64\_t (see README.mkdn for detail)}}
\DoxyCodeLine{77 \textcolor{preprocessor}{\#ifdef PICOJSON\_USE\_INT64}}
\DoxyCodeLine{78 \textcolor{preprocessor}{\#define \_\_STDC\_FORMAT\_MACROS}}
\DoxyCodeLine{79 \textcolor{preprocessor}{\#include <cerrno>}}
\DoxyCodeLine{80 \textcolor{preprocessor}{\#if \_\_cplusplus >= 201103L}}
\DoxyCodeLine{81 \textcolor{preprocessor}{\#include <cinttypes>}}
\DoxyCodeLine{82 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{83 \textcolor{keyword}{extern} \textcolor{stringliteral}{"{}C"{}} \{}
\DoxyCodeLine{84 \textcolor{preprocessor}{\#include <inttypes.h>}}
\DoxyCodeLine{85 \}}
\DoxyCodeLine{86 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{87 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{88 }
\DoxyCodeLine{89 \textcolor{comment}{// to disable the use of localeconv(3), set PICOJSON\_USE\_LOCALE to 0}}
\DoxyCodeLine{90 \textcolor{preprocessor}{\#ifndef PICOJSON\_USE\_LOCALE}}
\DoxyCodeLine{91 \textcolor{preprocessor}{\#define PICOJSON\_USE\_LOCALE 1}}
\DoxyCodeLine{92 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{93 \textcolor{preprocessor}{\#if PICOJSON\_USE\_LOCALE}}
\DoxyCodeLine{94 \textcolor{keyword}{extern} \textcolor{stringliteral}{"{}C"{}} \{}
\DoxyCodeLine{95 \textcolor{preprocessor}{\#include <locale.h>}}
\DoxyCodeLine{96 \}}
\DoxyCodeLine{97 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{98 }
\DoxyCodeLine{99 \textcolor{preprocessor}{\#ifndef PICOJSON\_ASSERT}}
\DoxyCodeLine{100 \textcolor{preprocessor}{\#define PICOJSON\_ASSERT(e)                                                                                                         \(\backslash\)}}
\DoxyCodeLine{101 \textcolor{preprocessor}{  do \{                                                                                                                             \(\backslash\)}}
\DoxyCodeLine{102 \textcolor{preprocessor}{    if (!(e))                                                                                                                      \(\backslash\)}}
\DoxyCodeLine{103 \textcolor{preprocessor}{      throw std::runtime\_error(\#e);                                                                                                \(\backslash\)}}
\DoxyCodeLine{104 \textcolor{preprocessor}{  \} while (0)}}
\DoxyCodeLine{105 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{106 }
\DoxyCodeLine{107 \textcolor{preprocessor}{\#ifdef \_MSC\_VER}}
\DoxyCodeLine{108 \textcolor{preprocessor}{\#define SNPRINTF \_snprintf\_s}}
\DoxyCodeLine{109 \textcolor{preprocessor}{\#pragma warning(push)}}
\DoxyCodeLine{110 \textcolor{preprocessor}{\#pragma warning(disable : 4244) }\textcolor{comment}{// conversion from int to char}}
\DoxyCodeLine{111 \textcolor{preprocessor}{\#pragma warning(disable : 4127) }\textcolor{comment}{// conditional expression is constant}}
\DoxyCodeLine{112 \textcolor{preprocessor}{\#pragma warning(disable : 4702) }\textcolor{comment}{// unreachable code}}
\DoxyCodeLine{113 \textcolor{preprocessor}{\#pragma warning(disable : 4706) }\textcolor{comment}{// assignment within conditional expression}}
\DoxyCodeLine{114 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{115 \textcolor{preprocessor}{\#define SNPRINTF snprintf}}
\DoxyCodeLine{116 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{117 }
\DoxyCodeLine{118 \textcolor{keyword}{namespace }picojson \{}
\DoxyCodeLine{119 }
\DoxyCodeLine{120 \textcolor{keyword}{enum} \{}
\DoxyCodeLine{121   null\_type,}
\DoxyCodeLine{122   boolean\_type,}
\DoxyCodeLine{123   number\_type,}
\DoxyCodeLine{124   string\_type,}
\DoxyCodeLine{125   array\_type,}
\DoxyCodeLine{126   object\_type}
\DoxyCodeLine{127 \textcolor{preprocessor}{\#ifdef PICOJSON\_USE\_INT64}}
\DoxyCodeLine{128   ,}
\DoxyCodeLine{129   int64\_type}
\DoxyCodeLine{130 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{131 \};}
\DoxyCodeLine{132 }
\DoxyCodeLine{133 \textcolor{keyword}{enum} \{ INDENT\_WIDTH = 2, DEFAULT\_MAX\_DEPTHS = 100 \};}
\DoxyCodeLine{134 }
\DoxyCodeLine{135 \textcolor{keyword}{struct }\mbox{\hyperlink{structpicojson_1_1null}{null}} \{\};}
\DoxyCodeLine{136 }
\DoxyCodeLine{137 \textcolor{keyword}{class }\mbox{\hyperlink{classpicojson_1_1value}{value}} \{}
\DoxyCodeLine{138 \textcolor{keyword}{public}:}
\DoxyCodeLine{139   \textcolor{keyword}{typedef} std::vector<value> array;}
\DoxyCodeLine{140   \textcolor{keyword}{typedef} std::map<std::string, value> object;}
\DoxyCodeLine{141   \textcolor{keyword}{union }\mbox{\hyperlink{unionpicojson_1_1value_1_1__storage}{\_storage}} \{}
\DoxyCodeLine{142     \textcolor{keywordtype}{bool} boolean\_;}
\DoxyCodeLine{143     \textcolor{keywordtype}{double} number\_;}
\DoxyCodeLine{144 \textcolor{preprocessor}{\#ifdef PICOJSON\_USE\_INT64}}
\DoxyCodeLine{145     int64\_t int64\_;}
\DoxyCodeLine{146 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{147     std::string *string\_;}
\DoxyCodeLine{148     array *array\_;}
\DoxyCodeLine{149     \textcolor{keywordtype}{object} *object\_;}
\DoxyCodeLine{150   \};}
\DoxyCodeLine{151 }
\DoxyCodeLine{152 \textcolor{keyword}{protected}:}
\DoxyCodeLine{153   \textcolor{keywordtype}{int} type\_;}
\DoxyCodeLine{154   \mbox{\hyperlink{unionpicojson_1_1value_1_1__storage}{\_storage}} u\_;}
\DoxyCodeLine{155 }
\DoxyCodeLine{156 \textcolor{keyword}{public}:}
\DoxyCodeLine{157   \mbox{\hyperlink{classpicojson_1_1value}{value}}();}
\DoxyCodeLine{158   \mbox{\hyperlink{classpicojson_1_1value}{value}}(\textcolor{keywordtype}{int} type, \textcolor{keywordtype}{bool});}
\DoxyCodeLine{159   \textcolor{keyword}{explicit} \mbox{\hyperlink{classpicojson_1_1value}{value}}(\textcolor{keywordtype}{bool} b);}
\DoxyCodeLine{160 \textcolor{preprocessor}{\#ifdef PICOJSON\_USE\_INT64}}
\DoxyCodeLine{161   \textcolor{keyword}{explicit} \mbox{\hyperlink{classpicojson_1_1value}{value}}(int64\_t i);}
\DoxyCodeLine{162 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{163   \textcolor{keyword}{explicit} \mbox{\hyperlink{classpicojson_1_1value}{value}}(\textcolor{keywordtype}{double} n);}
\DoxyCodeLine{164   \textcolor{keyword}{explicit} \mbox{\hyperlink{classpicojson_1_1value}{value}}(\textcolor{keyword}{const} std::string \&s);}
\DoxyCodeLine{165   \textcolor{keyword}{explicit} \mbox{\hyperlink{classpicojson_1_1value}{value}}(\textcolor{keyword}{const} array \&a);}
\DoxyCodeLine{166   \textcolor{keyword}{explicit} \mbox{\hyperlink{classpicojson_1_1value}{value}}(\textcolor{keyword}{const} \textcolor{keywordtype}{object} \&o);}
\DoxyCodeLine{167 \textcolor{preprocessor}{\#if PICOJSON\_USE\_RVALUE\_REFERENCE}}
\DoxyCodeLine{168   \textcolor{keyword}{explicit} \mbox{\hyperlink{classpicojson_1_1value}{value}}(std::string \&\&s);}
\DoxyCodeLine{169   \textcolor{keyword}{explicit} \mbox{\hyperlink{classpicojson_1_1value}{value}}(array \&\&a);}
\DoxyCodeLine{170   \textcolor{keyword}{explicit} \mbox{\hyperlink{classpicojson_1_1value}{value}}(\textcolor{keywordtype}{object} \&\&o);}
\DoxyCodeLine{171 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{172   \textcolor{keyword}{explicit} \mbox{\hyperlink{classpicojson_1_1value}{value}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *s);}
\DoxyCodeLine{173   \mbox{\hyperlink{classpicojson_1_1value}{value}}(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *s, \textcolor{keywordtype}{size\_t} len);}
\DoxyCodeLine{174   \mbox{\hyperlink{classpicojson_1_1value}{\string~value}}();}
\DoxyCodeLine{175   \mbox{\hyperlink{classpicojson_1_1value}{value}}(\textcolor{keyword}{const} \mbox{\hyperlink{classpicojson_1_1value}{value}} \&x);}
\DoxyCodeLine{176   \mbox{\hyperlink{classpicojson_1_1value}{value}} \&operator=(\textcolor{keyword}{const} \mbox{\hyperlink{classpicojson_1_1value}{value}} \&x);}
\DoxyCodeLine{177 \textcolor{preprocessor}{\#if PICOJSON\_USE\_RVALUE\_REFERENCE}}
\DoxyCodeLine{178   \mbox{\hyperlink{classpicojson_1_1value}{value}}(\mbox{\hyperlink{classpicojson_1_1value}{value}} \&\&x) PICOJSON\_NOEXCEPT;}
\DoxyCodeLine{179   \mbox{\hyperlink{classpicojson_1_1value}{value}} \&operator=(\mbox{\hyperlink{classpicojson_1_1value}{value}} \&\&x) PICOJSON\_NOEXCEPT;}
\DoxyCodeLine{180 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{181   \textcolor{keywordtype}{void} swap(\mbox{\hyperlink{classpicojson_1_1value}{value}} \&x) PICOJSON\_NOEXCEPT;}
\DoxyCodeLine{182   \textcolor{keyword}{template} <\textcolor{keyword}{typename} T> \textcolor{keywordtype}{bool} is() \textcolor{keyword}{const};}
\DoxyCodeLine{183   \textcolor{keyword}{template} <\textcolor{keyword}{typename} T> \textcolor{keyword}{const} T \&get() \textcolor{keyword}{const};}
\DoxyCodeLine{184   \textcolor{keyword}{template} <\textcolor{keyword}{typename} T> T \&get();}
\DoxyCodeLine{185   \textcolor{keyword}{template} <\textcolor{keyword}{typename} T> \textcolor{keywordtype}{void} set(\textcolor{keyword}{const} T \&);}
\DoxyCodeLine{186 \textcolor{preprocessor}{\#if PICOJSON\_USE\_RVALUE\_REFERENCE}}
\DoxyCodeLine{187   \textcolor{keyword}{template} <\textcolor{keyword}{typename} T> \textcolor{keywordtype}{void} set(T \&\&);}
\DoxyCodeLine{188 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{189   \textcolor{keywordtype}{bool} evaluate\_as\_boolean() \textcolor{keyword}{const};}
\DoxyCodeLine{190   \textcolor{keyword}{const} \mbox{\hyperlink{classpicojson_1_1value}{value}} \&get(\textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} idx) \textcolor{keyword}{const};}
\DoxyCodeLine{191   \textcolor{keyword}{const} \mbox{\hyperlink{classpicojson_1_1value}{value}} \&get(\textcolor{keyword}{const} std::string \&key) \textcolor{keyword}{const};}
\DoxyCodeLine{192   \mbox{\hyperlink{classpicojson_1_1value}{value}} \&get(\textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} idx);}
\DoxyCodeLine{193   \mbox{\hyperlink{classpicojson_1_1value}{value}} \&get(\textcolor{keyword}{const} std::string \&key);}
\DoxyCodeLine{194 }
\DoxyCodeLine{195   \textcolor{keywordtype}{bool} contains(\textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} idx) \textcolor{keyword}{const};}
\DoxyCodeLine{196   \textcolor{keywordtype}{bool} contains(\textcolor{keyword}{const} std::string \&key) \textcolor{keyword}{const};}
\DoxyCodeLine{197   std::string to\_str() \textcolor{keyword}{const};}
\DoxyCodeLine{198   \textcolor{keyword}{template} <\textcolor{keyword}{typename} Iter> \textcolor{keywordtype}{void} serialize(Iter os, \textcolor{keywordtype}{bool} prettify = \textcolor{keyword}{false}) \textcolor{keyword}{const};}
\DoxyCodeLine{199   std::string serialize(\textcolor{keywordtype}{bool} prettify = \textcolor{keyword}{false}) \textcolor{keyword}{const};}
\DoxyCodeLine{200 }
\DoxyCodeLine{201 \textcolor{keyword}{private}:}
\DoxyCodeLine{202   \textcolor{keyword}{template} <\textcolor{keyword}{typename} T> \mbox{\hyperlink{classpicojson_1_1value}{value}}(\textcolor{keyword}{const} T *); \textcolor{comment}{// intentionally defined to block implicit conversion of pointer to bool}}
\DoxyCodeLine{203   \textcolor{keyword}{template} <\textcolor{keyword}{typename} Iter> \textcolor{keyword}{static} \textcolor{keywordtype}{void} \_indent(Iter os, \textcolor{keywordtype}{int} indent);}
\DoxyCodeLine{204   \textcolor{keyword}{template} <\textcolor{keyword}{typename} Iter> \textcolor{keywordtype}{void} \_serialize(Iter os, \textcolor{keywordtype}{int} indent) \textcolor{keyword}{const};}
\DoxyCodeLine{205   std::string \_serialize(\textcolor{keywordtype}{int} indent) \textcolor{keyword}{const};}
\DoxyCodeLine{206   \textcolor{keywordtype}{void} clear();}
\DoxyCodeLine{207 \};}
\DoxyCodeLine{208 }
\DoxyCodeLine{209 \textcolor{keyword}{typedef} value::array array;}
\DoxyCodeLine{210 \textcolor{keyword}{typedef} value::object object;}
\DoxyCodeLine{211 }
\DoxyCodeLine{212 \textcolor{keyword}{inline} value::value() : type\_(null\_type), u\_() \{}
\DoxyCodeLine{213 \}}
\DoxyCodeLine{214 }
\DoxyCodeLine{215 \textcolor{keyword}{inline} value::value(\textcolor{keywordtype}{int} type, \textcolor{keywordtype}{bool}) : type\_(type), u\_() \{}
\DoxyCodeLine{216   \textcolor{keywordflow}{switch} (type) \{}
\DoxyCodeLine{217 \textcolor{preprocessor}{\#define INIT(p, v)                                                                                                                 \(\backslash\)}}
\DoxyCodeLine{218 \textcolor{preprocessor}{  case p\#\#type:                                                                                                                    \(\backslash\)}}
\DoxyCodeLine{219 \textcolor{preprocessor}{    u\_.p = v;                                                                                                                      \(\backslash\)}}
\DoxyCodeLine{220 \textcolor{preprocessor}{    break}}
\DoxyCodeLine{221     INIT(boolean\_, \textcolor{keyword}{false});}
\DoxyCodeLine{222     INIT(number\_, 0.0);}
\DoxyCodeLine{223 \textcolor{preprocessor}{\#ifdef PICOJSON\_USE\_INT64}}
\DoxyCodeLine{224     INIT(int64\_, 0);}
\DoxyCodeLine{225 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{226     INIT(string\_, \textcolor{keyword}{new} std::string());}
\DoxyCodeLine{227     INIT(array\_, \textcolor{keyword}{new} array());}
\DoxyCodeLine{228     INIT(object\_, \textcolor{keyword}{new} \textcolor{keywordtype}{object}());}
\DoxyCodeLine{229 \textcolor{preprocessor}{\#undef INIT}}
\DoxyCodeLine{230   \textcolor{keywordflow}{default}:}
\DoxyCodeLine{231     \textcolor{keywordflow}{break};}
\DoxyCodeLine{232   \}}
\DoxyCodeLine{233 \}}
\DoxyCodeLine{234 }
\DoxyCodeLine{235 \textcolor{keyword}{inline} value::value(\textcolor{keywordtype}{bool} b) : type\_(boolean\_type), u\_() \{}
\DoxyCodeLine{236   u\_.boolean\_ = b;}
\DoxyCodeLine{237 \}}
\DoxyCodeLine{238 }
\DoxyCodeLine{239 \textcolor{preprocessor}{\#ifdef PICOJSON\_USE\_INT64}}
\DoxyCodeLine{240 \textcolor{keyword}{inline} value::value(int64\_t i) : type\_(int64\_type), u\_() \{}
\DoxyCodeLine{241   u\_.int64\_ = i;}
\DoxyCodeLine{242 \}}
\DoxyCodeLine{243 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{244 }
\DoxyCodeLine{245 \textcolor{keyword}{inline} value::value(\textcolor{keywordtype}{double} n) : type\_(number\_type), u\_() \{}
\DoxyCodeLine{246   \textcolor{keywordflow}{if} (}
\DoxyCodeLine{247 \#ifdef \_MSC\_VER}
\DoxyCodeLine{248       !\_finite(n)}
\DoxyCodeLine{249 \#elif \_\_cplusplus >= 201103L}
\DoxyCodeLine{250       std::isnan(n) || std::isinf(n)}
\DoxyCodeLine{251 \#\textcolor{keywordflow}{else}}
\DoxyCodeLine{252       isnan(n) || isinf(n)}
\DoxyCodeLine{253 \#endif}
\DoxyCodeLine{254           ) \{}
\DoxyCodeLine{255     \textcolor{keywordflow}{throw} std::overflow\_error(\textcolor{stringliteral}{"{}"{}});}
\DoxyCodeLine{256   \}}
\DoxyCodeLine{257   u\_.number\_ = n;}
\DoxyCodeLine{258 \}}
\DoxyCodeLine{259 }
\DoxyCodeLine{260 \textcolor{keyword}{inline} value::value(\textcolor{keyword}{const} std::string \&s) : type\_(string\_type), u\_() \{}
\DoxyCodeLine{261   u\_.string\_ = \textcolor{keyword}{new} std::string(s);}
\DoxyCodeLine{262 \}}
\DoxyCodeLine{263 }
\DoxyCodeLine{264 \textcolor{keyword}{inline} value::value(\textcolor{keyword}{const} array \&a) : type\_(array\_type), u\_() \{}
\DoxyCodeLine{265   u\_.array\_ = \textcolor{keyword}{new} array(a);}
\DoxyCodeLine{266 \}}
\DoxyCodeLine{267 }
\DoxyCodeLine{268 \textcolor{keyword}{inline} value::value(\textcolor{keyword}{const} \textcolor{keywordtype}{object} \&o) : type\_(object\_type), u\_() \{}
\DoxyCodeLine{269   u\_.object\_ = \textcolor{keyword}{new} object(o);}
\DoxyCodeLine{270 \}}
\DoxyCodeLine{271 }
\DoxyCodeLine{272 \textcolor{preprocessor}{\#if PICOJSON\_USE\_RVALUE\_REFERENCE}}
\DoxyCodeLine{273 \textcolor{keyword}{inline} value::value(std::string \&\&s) : type\_(string\_type), u\_() \{}
\DoxyCodeLine{274   u\_.string\_ = \textcolor{keyword}{new} std::string(std::move(s));}
\DoxyCodeLine{275 \}}
\DoxyCodeLine{276 }
\DoxyCodeLine{277 \textcolor{keyword}{inline} value::value(array \&\&a) : type\_(array\_type), u\_() \{}
\DoxyCodeLine{278   u\_.array\_ = \textcolor{keyword}{new} array(std::move(a));}
\DoxyCodeLine{279 \}}
\DoxyCodeLine{280 }
\DoxyCodeLine{281 \textcolor{keyword}{inline} value::value(\textcolor{keywordtype}{object} \&\&o) : type\_(object\_type), u\_() \{}
\DoxyCodeLine{282   u\_.object\_ = \textcolor{keyword}{new} object(std::move(o));}
\DoxyCodeLine{283 \}}
\DoxyCodeLine{284 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{285 }
\DoxyCodeLine{286 \textcolor{keyword}{inline} value::value(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *s) : type\_(string\_type), u\_() \{}
\DoxyCodeLine{287   u\_.string\_ = \textcolor{keyword}{new} std::string(s);}
\DoxyCodeLine{288 \}}
\DoxyCodeLine{289 }
\DoxyCodeLine{290 \textcolor{keyword}{inline} value::value(\textcolor{keyword}{const} \textcolor{keywordtype}{char} *s, \textcolor{keywordtype}{size\_t} len) : type\_(string\_type), u\_() \{}
\DoxyCodeLine{291   u\_.string\_ = \textcolor{keyword}{new} std::string(s, len);}
\DoxyCodeLine{292 \}}
\DoxyCodeLine{293 }
\DoxyCodeLine{294 \textcolor{keyword}{inline} \textcolor{keywordtype}{void} value::clear() \{}
\DoxyCodeLine{295   \textcolor{keywordflow}{switch} (type\_) \{}
\DoxyCodeLine{296 \textcolor{preprocessor}{\#define DEINIT(p)                                                                                                                  \(\backslash\)}}
\DoxyCodeLine{297 \textcolor{preprocessor}{  case p\#\#type:                                                                                                                    \(\backslash\)}}
\DoxyCodeLine{298 \textcolor{preprocessor}{    delete u\_.p;                                                                                                                   \(\backslash\)}}
\DoxyCodeLine{299 \textcolor{preprocessor}{    break}}
\DoxyCodeLine{300     DEINIT(string\_);}
\DoxyCodeLine{301     DEINIT(array\_);}
\DoxyCodeLine{302     DEINIT(object\_);}
\DoxyCodeLine{303 \textcolor{preprocessor}{\#undef DEINIT}}
\DoxyCodeLine{304   \textcolor{keywordflow}{default}:}
\DoxyCodeLine{305     \textcolor{keywordflow}{break};}
\DoxyCodeLine{306   \}}
\DoxyCodeLine{307 \}}
\DoxyCodeLine{308 }
\DoxyCodeLine{309 \textcolor{keyword}{inline} value::\string~value() \{}
\DoxyCodeLine{310   clear();}
\DoxyCodeLine{311 \}}
\DoxyCodeLine{312 }
\DoxyCodeLine{313 \textcolor{keyword}{inline} value::value(\textcolor{keyword}{const} value \&x) : type\_(x.type\_), u\_() \{}
\DoxyCodeLine{314   \textcolor{keywordflow}{switch} (type\_) \{}
\DoxyCodeLine{315 \textcolor{preprocessor}{\#define INIT(p, v)                                                                                                                 \(\backslash\)}}
\DoxyCodeLine{316 \textcolor{preprocessor}{  case p\#\#type:                                                                                                                    \(\backslash\)}}
\DoxyCodeLine{317 \textcolor{preprocessor}{    u\_.p = v;                                                                                                                      \(\backslash\)}}
\DoxyCodeLine{318 \textcolor{preprocessor}{    break}}
\DoxyCodeLine{319     INIT(string\_, \textcolor{keyword}{new} std::string(*x.u\_.string\_));}
\DoxyCodeLine{320     INIT(array\_, \textcolor{keyword}{new} array(*x.u\_.array\_));}
\DoxyCodeLine{321     INIT(object\_, \textcolor{keyword}{new} \textcolor{keywordtype}{object}(*x.u\_.object\_));}
\DoxyCodeLine{322 \textcolor{preprocessor}{\#undef INIT}}
\DoxyCodeLine{323   \textcolor{keywordflow}{default}:}
\DoxyCodeLine{324     u\_ = x.u\_;}
\DoxyCodeLine{325     \textcolor{keywordflow}{break};}
\DoxyCodeLine{326   \}}
\DoxyCodeLine{327 \}}
\DoxyCodeLine{328 }
\DoxyCodeLine{329 \textcolor{keyword}{inline} value \&value::operator=(\textcolor{keyword}{const} value \&x) \{}
\DoxyCodeLine{330   \textcolor{keywordflow}{if} (\textcolor{keyword}{this} != \&x) \{}
\DoxyCodeLine{331     value t(x);}
\DoxyCodeLine{332     swap(t);}
\DoxyCodeLine{333   \}}
\DoxyCodeLine{334   \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{335 \}}
\DoxyCodeLine{336 }
\DoxyCodeLine{337 \textcolor{preprocessor}{\#if PICOJSON\_USE\_RVALUE\_REFERENCE}}
\DoxyCodeLine{338 \textcolor{keyword}{inline} value::value(value \&\&x) PICOJSON\_NOEXCEPT : type\_(null\_type), u\_() \{}
\DoxyCodeLine{339   swap(x);}
\DoxyCodeLine{340 \}}
\DoxyCodeLine{341 \textcolor{keyword}{inline} value \&value::operator=(value \&\&x) PICOJSON\_NOEXCEPT \{}
\DoxyCodeLine{342   swap(x);}
\DoxyCodeLine{343   \textcolor{keywordflow}{return} *\textcolor{keyword}{this};}
\DoxyCodeLine{344 \}}
\DoxyCodeLine{345 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{346 \textcolor{keyword}{inline} \textcolor{keywordtype}{void} value::swap(value \&x) PICOJSON\_NOEXCEPT \{}
\DoxyCodeLine{347   std::swap(type\_, x.type\_);}
\DoxyCodeLine{348   std::swap(u\_, x.u\_);}
\DoxyCodeLine{349 \}}
\DoxyCodeLine{350 }
\DoxyCodeLine{351 \textcolor{preprocessor}{\#define IS(ctype, jtype)                                                                                                           \(\backslash\)}}
\DoxyCodeLine{352 \textcolor{preprocessor}{  template <> inline bool value::is<ctype>() const \{                                                                               \(\backslash\)}}
\DoxyCodeLine{353 \textcolor{preprocessor}{    return type\_ == jtype\#\#\_type;                                                                                                  \(\backslash\)}}
\DoxyCodeLine{354 \textcolor{preprocessor}{  \}}}
\DoxyCodeLine{355 IS(\textcolor{keyword}{null}, \textcolor{keyword}{null})}
\DoxyCodeLine{356 IS(\textcolor{keywordtype}{bool}, \textcolor{keywordtype}{boolean})}
\DoxyCodeLine{357 \textcolor{preprocessor}{\#ifdef PICOJSON\_USE\_INT64}}
\DoxyCodeLine{358 IS(int64\_t, int64)}
\DoxyCodeLine{359 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{360 IS(std::string, \textcolor{keywordtype}{string})}
\DoxyCodeLine{361 IS(array, array)}
\DoxyCodeLine{362 IS(\textcolor{keywordtype}{object}, \textcolor{keywordtype}{object})}
\DoxyCodeLine{363 \textcolor{preprocessor}{\#undef IS}}
\DoxyCodeLine{364 \textcolor{keyword}{template} <> \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} value::is<double>()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{365   \textcolor{keywordflow}{return} type\_ == number\_type}
\DoxyCodeLine{366 \textcolor{preprocessor}{\#ifdef PICOJSON\_USE\_INT64}}
\DoxyCodeLine{367          || type\_ == int64\_type}
\DoxyCodeLine{368 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{369       ;}
\DoxyCodeLine{370 \}}
\DoxyCodeLine{371 }
\DoxyCodeLine{372 \textcolor{preprocessor}{\#define GET(ctype, var)                                                                                                            \(\backslash\)}}
\DoxyCodeLine{373 \textcolor{preprocessor}{  template <> inline const ctype \&value::get<ctype>() const \{                                                                      \(\backslash\)}}
\DoxyCodeLine{374 \textcolor{preprocessor}{    PICOJSON\_ASSERT("{}type mismatch! call is<type>() before get<type>()"{}} \&\& is<ctype>());                                           \(\backslash\)}
\DoxyCodeLine{375     return var;                                                                                                                    \(\backslash\)}
\DoxyCodeLine{376   \}                                                                                                                                \(\backslash\)}
\DoxyCodeLine{377   template <> inline ctype \&value::get<ctype>() \{                                                                                  \(\backslash\)}
\DoxyCodeLine{378     PICOJSON\_ASSERT("{}type mismatch! call is<type>() before get<type>()"{} \&\& is<ctype>());                                           \(\backslash\)}
\DoxyCodeLine{379     return var;                                                                                                                    \(\backslash\)}
\DoxyCodeLine{380   \}}
\DoxyCodeLine{381 GET(\textcolor{keywordtype}{bool}, u\_.boolean\_)}
\DoxyCodeLine{382 GET(std::\textcolor{keywordtype}{string}, *u\_.string\_)}
\DoxyCodeLine{383 GET(array, *u\_.array\_)}
\DoxyCodeLine{384 GET(\textcolor{keywordtype}{object}, *u\_.object\_)}
\DoxyCodeLine{385 \textcolor{preprocessor}{\#ifdef PICOJSON\_USE\_INT64}}
\DoxyCodeLine{386 GET(\textcolor{keywordtype}{double},}
\DoxyCodeLine{387     (type\_ == int64\_type \&\& (\textcolor{keyword}{const\_cast<}value *\textcolor{keyword}{>}(\textcolor{keyword}{this})-\/>type\_ = number\_type, (\textcolor{keyword}{const\_cast<}value *\textcolor{keyword}{>}(\textcolor{keyword}{this})-\/>u\_.number\_ = u\_.int64\_)),}
\DoxyCodeLine{388      u\_.number\_))}
\DoxyCodeLine{389 GET(int64\_t, u\_.int64\_)}
\DoxyCodeLine{390 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{391 GET(\textcolor{keywordtype}{double}, u\_.number\_)}
\DoxyCodeLine{392 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{393 \textcolor{preprocessor}{\#undef GET}}
\DoxyCodeLine{394 }
\DoxyCodeLine{395 \textcolor{preprocessor}{\#define SET(ctype, jtype, setter)                                                                                                  \(\backslash\)}}
\DoxyCodeLine{396 \textcolor{preprocessor}{  template <> inline void value::set<ctype>(const ctype \&\_val) \{                                                                   \(\backslash\)}}
\DoxyCodeLine{397 \textcolor{preprocessor}{    clear();                                                                                                                       \(\backslash\)}}
\DoxyCodeLine{398 \textcolor{preprocessor}{    type\_ = jtype\#\#\_type;                                                                                                          \(\backslash\)}}
\DoxyCodeLine{399 \textcolor{preprocessor}{    setter                                                                                                                         \(\backslash\)}}
\DoxyCodeLine{400 \textcolor{preprocessor}{  \}}}
\DoxyCodeLine{401 SET(\textcolor{keywordtype}{bool}, \textcolor{keywordtype}{boolean}, u\_.boolean\_ = \_val;)}
\DoxyCodeLine{402 SET(std::string, \textcolor{keywordtype}{string}, u\_.string\_ = \textcolor{keyword}{new} std::string(\_val);)}
\DoxyCodeLine{403 SET(array, array, u\_.array\_ = \textcolor{keyword}{new} array(\_val);)}
\DoxyCodeLine{404 SET(\textcolor{keywordtype}{object}, \textcolor{keywordtype}{object}, u\_.object\_ = \textcolor{keyword}{new} \textcolor{keywordtype}{object}(\_val);)}
\DoxyCodeLine{405 SET(\textcolor{keywordtype}{double}, number, u\_.number\_ = \_val;)}
\DoxyCodeLine{406 \textcolor{preprocessor}{\#ifdef PICOJSON\_USE\_INT64}}
\DoxyCodeLine{407 SET(int64\_t, int64, u\_.int64\_ = \_val;)}
\DoxyCodeLine{408 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{409 \textcolor{preprocessor}{\#undef SET}}
\DoxyCodeLine{410 }
\DoxyCodeLine{411 \textcolor{preprocessor}{\#if PICOJSON\_USE\_RVALUE\_REFERENCE}}
\DoxyCodeLine{412 \textcolor{preprocessor}{\#define MOVESET(ctype, jtype, setter)                                                                                              \(\backslash\)}}
\DoxyCodeLine{413 \textcolor{preprocessor}{  template <> inline void value::set<ctype>(ctype \&\& \_val) \{                                                                       \(\backslash\)}}
\DoxyCodeLine{414 \textcolor{preprocessor}{    clear();                                                                                                                       \(\backslash\)}}
\DoxyCodeLine{415 \textcolor{preprocessor}{    type\_ = jtype\#\#\_type;                                                                                                          \(\backslash\)}}
\DoxyCodeLine{416 \textcolor{preprocessor}{    setter                                                                                                                         \(\backslash\)}}
\DoxyCodeLine{417 \textcolor{preprocessor}{  \}}}
\DoxyCodeLine{418 MOVESET(std::string, \textcolor{keywordtype}{string}, u\_.string\_ = \textcolor{keyword}{new} std::string(std::move(\_val));)}
\DoxyCodeLine{419 MOVESET(array, array, u\_.array\_ = \textcolor{keyword}{new} array(std::move(\_val));)}
\DoxyCodeLine{420 MOVESET(\textcolor{keywordtype}{object}, \textcolor{keywordtype}{object}, u\_.object\_ = \textcolor{keyword}{new} \textcolor{keywordtype}{object}(std::move(\_val));)}
\DoxyCodeLine{421 \textcolor{preprocessor}{\#undef MOVESET}}
\DoxyCodeLine{422 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{423 }
\DoxyCodeLine{424 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} value::evaluate\_as\_boolean()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{425   \textcolor{keywordflow}{switch} (type\_) \{}
\DoxyCodeLine{426   \textcolor{keywordflow}{case} null\_type:}
\DoxyCodeLine{427     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{428   \textcolor{keywordflow}{case} boolean\_type:}
\DoxyCodeLine{429     \textcolor{keywordflow}{return} u\_.boolean\_;}
\DoxyCodeLine{430   \textcolor{keywordflow}{case} number\_type:}
\DoxyCodeLine{431     \textcolor{keywordflow}{return} u\_.number\_ != 0;}
\DoxyCodeLine{432 \textcolor{preprocessor}{\#ifdef PICOJSON\_USE\_INT64}}
\DoxyCodeLine{433   \textcolor{keywordflow}{case} int64\_type:}
\DoxyCodeLine{434     \textcolor{keywordflow}{return} u\_.int64\_ != 0;}
\DoxyCodeLine{435 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{436   \textcolor{keywordflow}{case} string\_type:}
\DoxyCodeLine{437     \textcolor{keywordflow}{return} !u\_.string\_-\/>empty();}
\DoxyCodeLine{438   \textcolor{keywordflow}{default}:}
\DoxyCodeLine{439     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{440   \}}
\DoxyCodeLine{441 \}}
\DoxyCodeLine{442 }
\DoxyCodeLine{443 \textcolor{keyword}{inline} \textcolor{keyword}{const} value \&value::get(\textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} idx)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{444   \textcolor{keyword}{static} value s\_null;}
\DoxyCodeLine{445   PICOJSON\_ASSERT(is<array>());}
\DoxyCodeLine{446   \textcolor{keywordflow}{return} idx < u\_.array\_-\/>size() ? (*u\_.array\_)[idx] : s\_null;}
\DoxyCodeLine{447 \}}
\DoxyCodeLine{448 }
\DoxyCodeLine{449 \textcolor{keyword}{inline} value \&value::get(\textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} idx) \{}
\DoxyCodeLine{450   \textcolor{keyword}{static} value s\_null;}
\DoxyCodeLine{451   PICOJSON\_ASSERT(is<array>());}
\DoxyCodeLine{452   \textcolor{keywordflow}{return} idx < u\_.array\_-\/>size() ? (*u\_.array\_)[idx] : s\_null;}
\DoxyCodeLine{453 \}}
\DoxyCodeLine{454 }
\DoxyCodeLine{455 \textcolor{keyword}{inline} \textcolor{keyword}{const} value \&value::get(\textcolor{keyword}{const} std::string \&key)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{456   \textcolor{keyword}{static} value s\_null;}
\DoxyCodeLine{457   PICOJSON\_ASSERT(is<object>());}
\DoxyCodeLine{458   object::const\_iterator i = u\_.object\_-\/>find(key);}
\DoxyCodeLine{459   \textcolor{keywordflow}{return} i != u\_.object\_-\/>end() ? i-\/>second : s\_null;}
\DoxyCodeLine{460 \}}
\DoxyCodeLine{461 }
\DoxyCodeLine{462 \textcolor{keyword}{inline} value \&value::get(\textcolor{keyword}{const} std::string \&key) \{}
\DoxyCodeLine{463   \textcolor{keyword}{static} value s\_null;}
\DoxyCodeLine{464   PICOJSON\_ASSERT(is<object>());}
\DoxyCodeLine{465   object::iterator i = u\_.object\_-\/>find(key);}
\DoxyCodeLine{466   \textcolor{keywordflow}{return} i != u\_.object\_-\/>end() ? i-\/>second : s\_null;}
\DoxyCodeLine{467 \}}
\DoxyCodeLine{468 }
\DoxyCodeLine{469 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} value::contains(\textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} idx)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{470   PICOJSON\_ASSERT(is<array>());}
\DoxyCodeLine{471   \textcolor{keywordflow}{return} idx < u\_.array\_-\/>size();}
\DoxyCodeLine{472 \}}
\DoxyCodeLine{473 }
\DoxyCodeLine{474 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} value::contains(\textcolor{keyword}{const} std::string \&key)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{475   PICOJSON\_ASSERT(is<object>());}
\DoxyCodeLine{476   object::const\_iterator i = u\_.object\_-\/>find(key);}
\DoxyCodeLine{477   \textcolor{keywordflow}{return} i != u\_.object\_-\/>end();}
\DoxyCodeLine{478 \}}
\DoxyCodeLine{479 }
\DoxyCodeLine{480 \textcolor{keyword}{inline} std::string value::to\_str()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{481   \textcolor{keywordflow}{switch} (type\_) \{}
\DoxyCodeLine{482   \textcolor{keywordflow}{case} null\_type:}
\DoxyCodeLine{483     \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}null"{}};}
\DoxyCodeLine{484   \textcolor{keywordflow}{case} boolean\_type:}
\DoxyCodeLine{485     \textcolor{keywordflow}{return} u\_.boolean\_ ? \textcolor{stringliteral}{"{}true"{}} : \textcolor{stringliteral}{"{}false"{}};}
\DoxyCodeLine{486 \textcolor{preprocessor}{\#ifdef PICOJSON\_USE\_INT64}}
\DoxyCodeLine{487   \textcolor{keywordflow}{case} int64\_type: \{}
\DoxyCodeLine{488     \textcolor{keywordtype}{char} buf[\textcolor{keyword}{sizeof}(\textcolor{stringliteral}{"{}-\/9223372036854775808"{}})];}
\DoxyCodeLine{489     SNPRINTF(buf, \textcolor{keyword}{sizeof}(buf), \textcolor{stringliteral}{"{}\%"{}} PRId64, u\_.int64\_);}
\DoxyCodeLine{490     \textcolor{keywordflow}{return} buf;}
\DoxyCodeLine{491   \}}
\DoxyCodeLine{492 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{493   \textcolor{keywordflow}{case} number\_type: \{}
\DoxyCodeLine{494     \textcolor{keywordtype}{char} buf[256];}
\DoxyCodeLine{495     \textcolor{keywordtype}{double} tmp;}
\DoxyCodeLine{496     SNPRINTF(buf, \textcolor{keyword}{sizeof}(buf), fabs(u\_.number\_) < (1ULL << 53) \&\& modf(u\_.number\_, \&tmp) == 0 ? \textcolor{stringliteral}{"{}\%.f"{}} : \textcolor{stringliteral}{"{}\%.17g"{}}, u\_.number\_);}
\DoxyCodeLine{497 \textcolor{preprocessor}{\#if PICOJSON\_USE\_LOCALE}}
\DoxyCodeLine{498     \textcolor{keywordtype}{char} *decimal\_point = localeconv()-\/>decimal\_point;}
\DoxyCodeLine{499     \textcolor{keywordflow}{if} (strcmp(decimal\_point, \textcolor{stringliteral}{"{}."{}}) != 0) \{}
\DoxyCodeLine{500       \textcolor{keywordtype}{size\_t} decimal\_point\_len = strlen(decimal\_point);}
\DoxyCodeLine{501       \textcolor{keywordflow}{for} (\textcolor{keywordtype}{char} *p = buf; *p != \textcolor{charliteral}{'\(\backslash\)0'}; ++p) \{}
\DoxyCodeLine{502         \textcolor{keywordflow}{if} (strncmp(p, decimal\_point, decimal\_point\_len) == 0) \{}
\DoxyCodeLine{503           \textcolor{keywordflow}{return} std::string(buf, p) + \textcolor{stringliteral}{"{}."{}} + (p + decimal\_point\_len);}
\DoxyCodeLine{504         \}}
\DoxyCodeLine{505       \}}
\DoxyCodeLine{506     \}}
\DoxyCodeLine{507 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{508     \textcolor{keywordflow}{return} buf;}
\DoxyCodeLine{509   \}}
\DoxyCodeLine{510   \textcolor{keywordflow}{case} string\_type:}
\DoxyCodeLine{511     \textcolor{keywordflow}{return} *u\_.string\_;}
\DoxyCodeLine{512   \textcolor{keywordflow}{case} array\_type:}
\DoxyCodeLine{513     \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}array"{}};}
\DoxyCodeLine{514   \textcolor{keywordflow}{case} object\_type:}
\DoxyCodeLine{515     \textcolor{keywordflow}{return} \textcolor{stringliteral}{"{}object"{}};}
\DoxyCodeLine{516   \textcolor{keywordflow}{default}:}
\DoxyCodeLine{517     PICOJSON\_ASSERT(0);}
\DoxyCodeLine{518 \textcolor{preprocessor}{\#ifdef \_MSC\_VER}}
\DoxyCodeLine{519     \textcolor{keyword}{\_\_assume}(0);}
\DoxyCodeLine{520 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{521   \}}
\DoxyCodeLine{522   \textcolor{keywordflow}{return} std::string();}
\DoxyCodeLine{523 \}}
\DoxyCodeLine{524 }
\DoxyCodeLine{525 \textcolor{keyword}{template} <\textcolor{keyword}{typename} Iter> \textcolor{keywordtype}{void} \mbox{\hyperlink{namespacecl_a1197a833cdd6664f206b079f2bebd2eb}{copy}}(\textcolor{keyword}{const} std::string \&s, Iter oi) \{}
\DoxyCodeLine{526   \mbox{\hyperlink{namespacecl_a1197a833cdd6664f206b079f2bebd2eb}{std::copy}}(s.begin(), s.end(), oi);}
\DoxyCodeLine{527 \}}
\DoxyCodeLine{528 }
\DoxyCodeLine{529 \textcolor{keyword}{template} <\textcolor{keyword}{typename} Iter> \textcolor{keyword}{struct }\mbox{\hyperlink{structpicojson_1_1serialize__str__char}{serialize\_str\_char}} \{}
\DoxyCodeLine{530   Iter oi;}
\DoxyCodeLine{531   \textcolor{keywordtype}{void} operator()(\textcolor{keywordtype}{char} c) \{}
\DoxyCodeLine{532     \textcolor{keywordflow}{switch} (c) \{}
\DoxyCodeLine{533 \textcolor{preprocessor}{\#define MAP(val, sym)                                                                                                              \(\backslash\)}}
\DoxyCodeLine{534 \textcolor{preprocessor}{  case val:                                                                                                                        \(\backslash\)}}
\DoxyCodeLine{535 \textcolor{preprocessor}{    copy(sym, oi);                                                                                                                 \(\backslash\)}}
\DoxyCodeLine{536 \textcolor{preprocessor}{    break}}
\DoxyCodeLine{537       MAP(\textcolor{charliteral}{'"{}'}, \textcolor{stringliteral}{"{}\(\backslash\)\(\backslash\)\(\backslash\)"{}"{}});}
\DoxyCodeLine{538       MAP(\textcolor{charliteral}{'\(\backslash\)\(\backslash\)'}, \textcolor{stringliteral}{"{}\(\backslash\)\(\backslash\)\(\backslash\)\(\backslash\)"{}});}
\DoxyCodeLine{539       MAP(\textcolor{charliteral}{'/'}, \textcolor{stringliteral}{"{}\(\backslash\)\(\backslash\)/"{}});}
\DoxyCodeLine{540       MAP(\textcolor{charliteral}{'\(\backslash\)b'}, \textcolor{stringliteral}{"{}\(\backslash\)\(\backslash\)b"{}});}
\DoxyCodeLine{541       MAP(\textcolor{charliteral}{'\(\backslash\)f'}, \textcolor{stringliteral}{"{}\(\backslash\)\(\backslash\)f"{}});}
\DoxyCodeLine{542       MAP(\textcolor{charliteral}{'\(\backslash\)n'}, \textcolor{stringliteral}{"{}\(\backslash\)\(\backslash\)n"{}});}
\DoxyCodeLine{543       MAP(\textcolor{charliteral}{'\(\backslash\)r'}, \textcolor{stringliteral}{"{}\(\backslash\)\(\backslash\)r"{}});}
\DoxyCodeLine{544       MAP(\textcolor{charliteral}{'\(\backslash\)t'}, \textcolor{stringliteral}{"{}\(\backslash\)\(\backslash\)t"{}});}
\DoxyCodeLine{545 \textcolor{preprocessor}{\#undef MAP}}
\DoxyCodeLine{546     \textcolor{keywordflow}{default}:}
\DoxyCodeLine{547       \textcolor{keywordflow}{if} (\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{unsigned} \textcolor{keywordtype}{char}\textcolor{keyword}{>}(c) < 0x20 || c == 0x7f) \{}
\DoxyCodeLine{548         \textcolor{keywordtype}{char} buf[7];}
\DoxyCodeLine{549         SNPRINTF(buf, \textcolor{keyword}{sizeof}(buf), \textcolor{stringliteral}{"{}\(\backslash\)\(\backslash\)u\%04x"{}}, c \& 0xff);}
\DoxyCodeLine{550         \mbox{\hyperlink{namespacecl_a1197a833cdd6664f206b079f2bebd2eb}{copy}}(buf, buf + 6, oi);}
\DoxyCodeLine{551       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{552         *oi++ = c;}
\DoxyCodeLine{553       \}}
\DoxyCodeLine{554       \textcolor{keywordflow}{break};}
\DoxyCodeLine{555     \}}
\DoxyCodeLine{556   \}}
\DoxyCodeLine{557 \};}
\DoxyCodeLine{558 }
\DoxyCodeLine{559 \textcolor{keyword}{template} <\textcolor{keyword}{typename} Iter> \textcolor{keywordtype}{void} serialize\_str(\textcolor{keyword}{const} std::string \&s, Iter oi) \{}
\DoxyCodeLine{560   *oi++ = \textcolor{charliteral}{'"{}'};}
\DoxyCodeLine{561   \mbox{\hyperlink{structpicojson_1_1serialize__str__char}{serialize\_str\_char<Iter>}} process\_char = \{oi\};}
\DoxyCodeLine{562   std::for\_each(s.begin(), s.end(), process\_char);}
\DoxyCodeLine{563   *oi++ = \textcolor{charliteral}{'"{}'};}
\DoxyCodeLine{564 \}}
\DoxyCodeLine{565 }
\DoxyCodeLine{566 \textcolor{keyword}{template} <\textcolor{keyword}{typename} Iter> \textcolor{keywordtype}{void} value::serialize(Iter oi, \textcolor{keywordtype}{bool} prettify)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{567   \textcolor{keywordflow}{return} \_serialize(oi, prettify ? 0 : -\/1);}
\DoxyCodeLine{568 \}}
\DoxyCodeLine{569 }
\DoxyCodeLine{570 \textcolor{keyword}{inline} std::string value::serialize(\textcolor{keywordtype}{bool} prettify)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{571   \textcolor{keywordflow}{return} \_serialize(prettify ? 0 : -\/1);}
\DoxyCodeLine{572 \}}
\DoxyCodeLine{573 }
\DoxyCodeLine{574 \textcolor{keyword}{template} <\textcolor{keyword}{typename} Iter> \textcolor{keywordtype}{void} value::\_indent(Iter oi, \textcolor{keywordtype}{int} indent) \{}
\DoxyCodeLine{575   *oi++ = \textcolor{charliteral}{'\(\backslash\)n'};}
\DoxyCodeLine{576   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < indent * INDENT\_WIDTH; ++i) \{}
\DoxyCodeLine{577     *oi++ = \textcolor{charliteral}{' '};}
\DoxyCodeLine{578   \}}
\DoxyCodeLine{579 \}}
\DoxyCodeLine{580 }
\DoxyCodeLine{581 \textcolor{keyword}{template} <\textcolor{keyword}{typename} Iter> \textcolor{keywordtype}{void} value::\_serialize(Iter oi, \textcolor{keywordtype}{int} indent)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{582   \textcolor{keywordflow}{switch} (type\_) \{}
\DoxyCodeLine{583   \textcolor{keywordflow}{case} string\_type:}
\DoxyCodeLine{584     serialize\_str(*u\_.string\_, oi);}
\DoxyCodeLine{585     \textcolor{keywordflow}{break};}
\DoxyCodeLine{586   \textcolor{keywordflow}{case} array\_type: \{}
\DoxyCodeLine{587     *oi++ = \textcolor{charliteral}{'['};}
\DoxyCodeLine{588     \textcolor{keywordflow}{if} (indent != -\/1) \{}
\DoxyCodeLine{589       ++indent;}
\DoxyCodeLine{590     \}}
\DoxyCodeLine{591     \textcolor{keywordflow}{for} (array::const\_iterator i = u\_.array\_-\/>begin(); i != u\_.array\_-\/>end(); ++i) \{}
\DoxyCodeLine{592       \textcolor{keywordflow}{if} (i != u\_.array\_-\/>begin()) \{}
\DoxyCodeLine{593         *oi++ = \textcolor{charliteral}{','};}
\DoxyCodeLine{594       \}}
\DoxyCodeLine{595       \textcolor{keywordflow}{if} (indent != -\/1) \{}
\DoxyCodeLine{596         \_indent(oi, indent);}
\DoxyCodeLine{597       \}}
\DoxyCodeLine{598       i-\/>\_serialize(oi, indent);}
\DoxyCodeLine{599     \}}
\DoxyCodeLine{600     \textcolor{keywordflow}{if} (indent != -\/1) \{}
\DoxyCodeLine{601       -\/-\/indent;}
\DoxyCodeLine{602       \textcolor{keywordflow}{if} (!u\_.array\_-\/>empty()) \{}
\DoxyCodeLine{603         \_indent(oi, indent);}
\DoxyCodeLine{604       \}}
\DoxyCodeLine{605     \}}
\DoxyCodeLine{606     *oi++ = \textcolor{charliteral}{']'};}
\DoxyCodeLine{607     \textcolor{keywordflow}{break};}
\DoxyCodeLine{608   \}}
\DoxyCodeLine{609   \textcolor{keywordflow}{case} object\_type: \{}
\DoxyCodeLine{610     *oi++ = \textcolor{charliteral}{'\{'};}
\DoxyCodeLine{611     \textcolor{keywordflow}{if} (indent != -\/1) \{}
\DoxyCodeLine{612       ++indent;}
\DoxyCodeLine{613     \}}
\DoxyCodeLine{614     \textcolor{keywordflow}{for} (object::const\_iterator i = u\_.object\_-\/>begin(); i != u\_.object\_-\/>end(); ++i) \{}
\DoxyCodeLine{615       \textcolor{keywordflow}{if} (i != u\_.object\_-\/>begin()) \{}
\DoxyCodeLine{616         *oi++ = \textcolor{charliteral}{','};}
\DoxyCodeLine{617       \}}
\DoxyCodeLine{618       \textcolor{keywordflow}{if} (indent != -\/1) \{}
\DoxyCodeLine{619         \_indent(oi, indent);}
\DoxyCodeLine{620       \}}
\DoxyCodeLine{621       serialize\_str(i-\/>first, oi);}
\DoxyCodeLine{622       *oi++ = \textcolor{charliteral}{':'};}
\DoxyCodeLine{623       \textcolor{keywordflow}{if} (indent != -\/1) \{}
\DoxyCodeLine{624         *oi++ = \textcolor{charliteral}{' '};}
\DoxyCodeLine{625       \}}
\DoxyCodeLine{626       i-\/>second.\_serialize(oi, indent);}
\DoxyCodeLine{627     \}}
\DoxyCodeLine{628     \textcolor{keywordflow}{if} (indent != -\/1) \{}
\DoxyCodeLine{629       -\/-\/indent;}
\DoxyCodeLine{630       \textcolor{keywordflow}{if} (!u\_.object\_-\/>empty()) \{}
\DoxyCodeLine{631         \_indent(oi, indent);}
\DoxyCodeLine{632       \}}
\DoxyCodeLine{633     \}}
\DoxyCodeLine{634     *oi++ = \textcolor{charliteral}{'\}'};}
\DoxyCodeLine{635     \textcolor{keywordflow}{break};}
\DoxyCodeLine{636   \}}
\DoxyCodeLine{637   \textcolor{keywordflow}{default}:}
\DoxyCodeLine{638     \mbox{\hyperlink{namespacecl_a1197a833cdd6664f206b079f2bebd2eb}{copy}}(to\_str(), oi);}
\DoxyCodeLine{639     \textcolor{keywordflow}{break};}
\DoxyCodeLine{640   \}}
\DoxyCodeLine{641   \textcolor{keywordflow}{if} (indent == 0) \{}
\DoxyCodeLine{642     *oi++ = \textcolor{charliteral}{'\(\backslash\)n'};}
\DoxyCodeLine{643   \}}
\DoxyCodeLine{644 \}}
\DoxyCodeLine{645 }
\DoxyCodeLine{646 \textcolor{keyword}{inline} std::string value::\_serialize(\textcolor{keywordtype}{int} indent)\textcolor{keyword}{ const }\{}
\DoxyCodeLine{647   std::string s;}
\DoxyCodeLine{648   \_serialize(std::back\_inserter(s), indent);}
\DoxyCodeLine{649   \textcolor{keywordflow}{return} s;}
\DoxyCodeLine{650 \}}
\DoxyCodeLine{651 }
\DoxyCodeLine{652 \textcolor{keyword}{template} <\textcolor{keyword}{typename} Iter> \textcolor{keyword}{class }\mbox{\hyperlink{classpicojson_1_1input}{input}} \{}
\DoxyCodeLine{653 \textcolor{keyword}{protected}:}
\DoxyCodeLine{654   Iter cur\_, end\_;}
\DoxyCodeLine{655   \textcolor{keywordtype}{bool} consumed\_;}
\DoxyCodeLine{656   \textcolor{keywordtype}{int} line\_;}
\DoxyCodeLine{657 }
\DoxyCodeLine{658 \textcolor{keyword}{public}:}
\DoxyCodeLine{659   \mbox{\hyperlink{classpicojson_1_1input}{input}}(\textcolor{keyword}{const} Iter \&first, \textcolor{keyword}{const} Iter \&last) : cur\_(first), end\_(last), consumed\_(\textcolor{keyword}{false}), line\_(1) \{}
\DoxyCodeLine{660   \}}
\DoxyCodeLine{661   \textcolor{keywordtype}{int} getc() \{}
\DoxyCodeLine{662     \textcolor{keywordflow}{if} (consumed\_) \{}
\DoxyCodeLine{663       \textcolor{keywordflow}{if} (*cur\_ == \textcolor{charliteral}{'\(\backslash\)n'}) \{}
\DoxyCodeLine{664         ++line\_;}
\DoxyCodeLine{665       \}}
\DoxyCodeLine{666       ++cur\_;}
\DoxyCodeLine{667     \}}
\DoxyCodeLine{668     \textcolor{keywordflow}{if} (cur\_ == end\_) \{}
\DoxyCodeLine{669       consumed\_ = \textcolor{keyword}{false};}
\DoxyCodeLine{670       \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{671     \}}
\DoxyCodeLine{672     consumed\_ = \textcolor{keyword}{true};}
\DoxyCodeLine{673     \textcolor{keywordflow}{return} *cur\_ \& 0xff;}
\DoxyCodeLine{674   \}}
\DoxyCodeLine{675   \textcolor{keywordtype}{void} ungetc() \{}
\DoxyCodeLine{676     consumed\_ = \textcolor{keyword}{false};}
\DoxyCodeLine{677   \}}
\DoxyCodeLine{678   Iter cur()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{679     \textcolor{keywordflow}{if} (consumed\_) \{}
\DoxyCodeLine{680       \mbox{\hyperlink{classpicojson_1_1input}{input<Iter>}} *\textcolor{keyword}{self} = \textcolor{keyword}{const\_cast<}\mbox{\hyperlink{classpicojson_1_1input}{input<Iter>}} *\textcolor{keyword}{>}(\textcolor{keyword}{this});}
\DoxyCodeLine{681       \textcolor{keyword}{self}-\/>consumed\_ = \textcolor{keyword}{false};}
\DoxyCodeLine{682       ++\textcolor{keyword}{self}-\/>cur\_;}
\DoxyCodeLine{683     \}}
\DoxyCodeLine{684     \textcolor{keywordflow}{return} cur\_;}
\DoxyCodeLine{685   \}}
\DoxyCodeLine{686   \textcolor{keywordtype}{int} line()\textcolor{keyword}{ const }\{}
\DoxyCodeLine{687     \textcolor{keywordflow}{return} line\_;}
\DoxyCodeLine{688   \}}
\DoxyCodeLine{689   \textcolor{keywordtype}{void} skip\_ws() \{}
\DoxyCodeLine{690     \textcolor{keywordflow}{while} (1) \{}
\DoxyCodeLine{691       \textcolor{keywordtype}{int} ch = getc();}
\DoxyCodeLine{692       \textcolor{keywordflow}{if} (!(ch == \textcolor{charliteral}{' '} || ch == \textcolor{charliteral}{'\(\backslash\)t'} || ch == \textcolor{charliteral}{'\(\backslash\)n'} || ch == \textcolor{charliteral}{'\(\backslash\)r'})) \{}
\DoxyCodeLine{693         ungetc();}
\DoxyCodeLine{694         \textcolor{keywordflow}{break};}
\DoxyCodeLine{695       \}}
\DoxyCodeLine{696     \}}
\DoxyCodeLine{697   \}}
\DoxyCodeLine{698   \textcolor{keywordtype}{bool} expect(\textcolor{keyword}{const} \textcolor{keywordtype}{int} expected) \{}
\DoxyCodeLine{699     skip\_ws();}
\DoxyCodeLine{700     \textcolor{keywordflow}{if} (getc() != expected) \{}
\DoxyCodeLine{701       ungetc();}
\DoxyCodeLine{702       \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{703     \}}
\DoxyCodeLine{704     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{705   \}}
\DoxyCodeLine{706   \textcolor{keywordtype}{bool} match(\textcolor{keyword}{const} std::string \&pattern) \{}
\DoxyCodeLine{707     \textcolor{keywordflow}{for} (std::string::const\_iterator pi(pattern.begin()); pi != pattern.end(); ++pi) \{}
\DoxyCodeLine{708       \textcolor{keywordflow}{if} (getc() != *pi) \{}
\DoxyCodeLine{709         ungetc();}
\DoxyCodeLine{710         \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{711       \}}
\DoxyCodeLine{712     \}}
\DoxyCodeLine{713     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{714   \}}
\DoxyCodeLine{715 \};}
\DoxyCodeLine{716 }
\DoxyCodeLine{717 \textcolor{keyword}{template} <\textcolor{keyword}{typename} Iter> \textcolor{keyword}{inline} \textcolor{keywordtype}{int} \_parse\_quadhex(\mbox{\hyperlink{classpicojson_1_1input}{input<Iter>}} \&in) \{}
\DoxyCodeLine{718   \textcolor{keywordtype}{int} uni\_ch = 0, hex;}
\DoxyCodeLine{719   \textcolor{keywordflow}{for} (\textcolor{keywordtype}{int} i = 0; i < 4; i++) \{}
\DoxyCodeLine{720     \textcolor{keywordflow}{if} ((hex = in.getc()) == -\/1) \{}
\DoxyCodeLine{721       \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{722     \}}
\DoxyCodeLine{723     \textcolor{keywordflow}{if} (\textcolor{charliteral}{'0'} <= hex \&\& hex <= \textcolor{charliteral}{'9'}) \{}
\DoxyCodeLine{724       hex -\/= \textcolor{charliteral}{'0'};}
\DoxyCodeLine{725     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\textcolor{charliteral}{'A'} <= hex \&\& hex <= \textcolor{charliteral}{'F'}) \{}
\DoxyCodeLine{726       hex -\/= \textcolor{charliteral}{'A'} -\/ 0xa;}
\DoxyCodeLine{727     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (\textcolor{charliteral}{'a'} <= hex \&\& hex <= \textcolor{charliteral}{'f'}) \{}
\DoxyCodeLine{728       hex -\/= \textcolor{charliteral}{'a'} -\/ 0xa;}
\DoxyCodeLine{729     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{730       in.ungetc();}
\DoxyCodeLine{731       \textcolor{keywordflow}{return} -\/1;}
\DoxyCodeLine{732     \}}
\DoxyCodeLine{733     uni\_ch = uni\_ch * 16 + hex;}
\DoxyCodeLine{734   \}}
\DoxyCodeLine{735   \textcolor{keywordflow}{return} uni\_ch;}
\DoxyCodeLine{736 \}}
\DoxyCodeLine{737 }
\DoxyCodeLine{738 \textcolor{keyword}{template} <\textcolor{keyword}{typename} String, \textcolor{keyword}{typename} Iter> \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} \_parse\_codepoint(String \&out, input<Iter> \&in) \{}
\DoxyCodeLine{739   \textcolor{keywordtype}{int} uni\_ch;}
\DoxyCodeLine{740   \textcolor{keywordflow}{if} ((uni\_ch = \_parse\_quadhex(in)) == -\/1) \{}
\DoxyCodeLine{741     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{742   \}}
\DoxyCodeLine{743   \textcolor{keywordflow}{if} (0xd800 <= uni\_ch \&\& uni\_ch <= 0xdfff) \{}
\DoxyCodeLine{744     \textcolor{keywordflow}{if} (0xdc00 <= uni\_ch) \{}
\DoxyCodeLine{745       \textcolor{comment}{// a second 16-\/bit of a surrogate pair appeared}}
\DoxyCodeLine{746       \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{747     \}}
\DoxyCodeLine{748     \textcolor{comment}{// first 16-\/bit of surrogate pair, get the next one}}
\DoxyCodeLine{749     \textcolor{keywordflow}{if} (in.getc() != \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'} || in.getc() != \textcolor{charliteral}{'u'}) \{}
\DoxyCodeLine{750       in.ungetc();}
\DoxyCodeLine{751       \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{752     \}}
\DoxyCodeLine{753     \textcolor{keywordtype}{int} second = \_parse\_quadhex(in);}
\DoxyCodeLine{754     \textcolor{keywordflow}{if} (!(0xdc00 <= second \&\& second <= 0xdfff)) \{}
\DoxyCodeLine{755       \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{756     \}}
\DoxyCodeLine{757     uni\_ch = ((uni\_ch -\/ 0xd800) << 10) | ((second -\/ 0xdc00) \& 0x3ff);}
\DoxyCodeLine{758     uni\_ch += 0x10000;}
\DoxyCodeLine{759   \}}
\DoxyCodeLine{760   \textcolor{keywordflow}{if} (uni\_ch < 0x80) \{}
\DoxyCodeLine{761     out.push\_back(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char}\textcolor{keyword}{>}(uni\_ch));}
\DoxyCodeLine{762   \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{763     \textcolor{keywordflow}{if} (uni\_ch < 0x800) \{}
\DoxyCodeLine{764       out.push\_back(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char}\textcolor{keyword}{>}(0xc0 | (uni\_ch >> 6)));}
\DoxyCodeLine{765     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{766       \textcolor{keywordflow}{if} (uni\_ch < 0x10000) \{}
\DoxyCodeLine{767         out.push\_back(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char}\textcolor{keyword}{>}(0xe0 | (uni\_ch >> 12)));}
\DoxyCodeLine{768       \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{769         out.push\_back(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char}\textcolor{keyword}{>}(0xf0 | (uni\_ch >> 18)));}
\DoxyCodeLine{770         out.push\_back(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char}\textcolor{keyword}{>}(0x80 | ((uni\_ch >> 12) \& 0x3f)));}
\DoxyCodeLine{771       \}}
\DoxyCodeLine{772       out.push\_back(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char}\textcolor{keyword}{>}(0x80 | ((uni\_ch >> 6) \& 0x3f)));}
\DoxyCodeLine{773     \}}
\DoxyCodeLine{774     out.push\_back(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char}\textcolor{keyword}{>}(0x80 | (uni\_ch \& 0x3f)));}
\DoxyCodeLine{775   \}}
\DoxyCodeLine{776   \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{777 \}}
\DoxyCodeLine{778 }
\DoxyCodeLine{779 \textcolor{keyword}{template} <\textcolor{keyword}{typename} String, \textcolor{keyword}{typename} Iter> \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} \_parse\_string(String \&out, input<Iter> \&in) \{}
\DoxyCodeLine{780   \textcolor{keywordflow}{while} (1) \{}
\DoxyCodeLine{781     \textcolor{keywordtype}{int} ch = in.getc();}
\DoxyCodeLine{782     \textcolor{keywordflow}{if} (ch < \textcolor{charliteral}{' '}) \{}
\DoxyCodeLine{783       in.ungetc();}
\DoxyCodeLine{784       \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{785     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (ch == \textcolor{charliteral}{'"{}'}) \{}
\DoxyCodeLine{786       \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{787     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (ch == \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'}) \{}
\DoxyCodeLine{788       \textcolor{keywordflow}{if} ((ch = in.getc()) == -\/1) \{}
\DoxyCodeLine{789         \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{790       \}}
\DoxyCodeLine{791       \textcolor{keywordflow}{switch} (ch) \{}
\DoxyCodeLine{792 \textcolor{preprocessor}{\#define MAP(sym, val)                                                                                                              \(\backslash\)}}
\DoxyCodeLine{793 \textcolor{preprocessor}{  case sym:                                                                                                                        \(\backslash\)}}
\DoxyCodeLine{794 \textcolor{preprocessor}{    out.push\_back(val);                                                                                                            \(\backslash\)}}
\DoxyCodeLine{795 \textcolor{preprocessor}{    break}}
\DoxyCodeLine{796         MAP(\textcolor{charliteral}{'"{}'}, \textcolor{charliteral}{'\(\backslash\)"{}'});}
\DoxyCodeLine{797         MAP(\textcolor{charliteral}{'\(\backslash\)\(\backslash\)'}, \textcolor{charliteral}{'\(\backslash\)\(\backslash\)'});}
\DoxyCodeLine{798         MAP(\textcolor{charliteral}{'/'}, \textcolor{charliteral}{'/'});}
\DoxyCodeLine{799         MAP(\textcolor{charliteral}{'b'}, \textcolor{charliteral}{'\(\backslash\)b'});}
\DoxyCodeLine{800         MAP(\textcolor{charliteral}{'f'}, \textcolor{charliteral}{'\(\backslash\)f'});}
\DoxyCodeLine{801         MAP(\textcolor{charliteral}{'n'}, \textcolor{charliteral}{'\(\backslash\)n'});}
\DoxyCodeLine{802         MAP(\textcolor{charliteral}{'r'}, \textcolor{charliteral}{'\(\backslash\)r'});}
\DoxyCodeLine{803         MAP(\textcolor{charliteral}{'t'}, \textcolor{charliteral}{'\(\backslash\)t'});}
\DoxyCodeLine{804 \textcolor{preprocessor}{\#undef MAP}}
\DoxyCodeLine{805       \textcolor{keywordflow}{case} \textcolor{charliteral}{'u'}:}
\DoxyCodeLine{806         \textcolor{keywordflow}{if} (!\_parse\_codepoint(out, in)) \{}
\DoxyCodeLine{807           \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{808         \}}
\DoxyCodeLine{809         \textcolor{keywordflow}{break};}
\DoxyCodeLine{810       \textcolor{keywordflow}{default}:}
\DoxyCodeLine{811         \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{812       \}}
\DoxyCodeLine{813     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{814       out.push\_back(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char}\textcolor{keyword}{>}(ch));}
\DoxyCodeLine{815     \}}
\DoxyCodeLine{816   \}}
\DoxyCodeLine{817   \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{818 \}}
\DoxyCodeLine{819 }
\DoxyCodeLine{820 \textcolor{keyword}{template} <\textcolor{keyword}{typename} Context, \textcolor{keyword}{typename} Iter> \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} \_parse\_array(Context \&ctx, input<Iter> \&in) \{}
\DoxyCodeLine{821   \textcolor{keywordflow}{if} (!ctx.parse\_array\_start()) \{}
\DoxyCodeLine{822     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{823   \}}
\DoxyCodeLine{824   \textcolor{keywordtype}{size\_t} idx = 0;}
\DoxyCodeLine{825   \textcolor{keywordflow}{if} (in.expect(\textcolor{charliteral}{']'})) \{}
\DoxyCodeLine{826     \textcolor{keywordflow}{return} ctx.parse\_array\_stop(idx);}
\DoxyCodeLine{827   \}}
\DoxyCodeLine{828   \textcolor{keywordflow}{do} \{}
\DoxyCodeLine{829     \textcolor{keywordflow}{if} (!ctx.parse\_array\_item(in, idx)) \{}
\DoxyCodeLine{830       \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{831     \}}
\DoxyCodeLine{832     idx++;}
\DoxyCodeLine{833   \} \textcolor{keywordflow}{while} (in.expect(\textcolor{charliteral}{','}));}
\DoxyCodeLine{834   \textcolor{keywordflow}{return} in.expect(\textcolor{charliteral}{']'}) \&\& ctx.parse\_array\_stop(idx);}
\DoxyCodeLine{835 \}}
\DoxyCodeLine{836 }
\DoxyCodeLine{837 \textcolor{keyword}{template} <\textcolor{keyword}{typename} Context, \textcolor{keyword}{typename} Iter> \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} \_parse\_object(Context \&ctx, input<Iter> \&in) \{}
\DoxyCodeLine{838   \textcolor{keywordflow}{if} (!ctx.parse\_object\_start()) \{}
\DoxyCodeLine{839     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{840   \}}
\DoxyCodeLine{841   \textcolor{keywordflow}{if} (in.expect(\textcolor{charliteral}{'\}'})) \{}
\DoxyCodeLine{842     \textcolor{keywordflow}{return} ctx.parse\_object\_stop();}
\DoxyCodeLine{843   \}}
\DoxyCodeLine{844   \textcolor{keywordflow}{do} \{}
\DoxyCodeLine{845     std::string key;}
\DoxyCodeLine{846     \textcolor{keywordflow}{if} (!in.expect(\textcolor{charliteral}{'"{}'}) || !\_parse\_string(key, in) || !in.expect(\textcolor{charliteral}{':'})) \{}
\DoxyCodeLine{847       \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{848     \}}
\DoxyCodeLine{849     \textcolor{keywordflow}{if} (!ctx.parse\_object\_item(in, key)) \{}
\DoxyCodeLine{850       \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{851     \}}
\DoxyCodeLine{852   \} \textcolor{keywordflow}{while} (in.expect(\textcolor{charliteral}{','}));}
\DoxyCodeLine{853   \textcolor{keywordflow}{return} in.expect(\textcolor{charliteral}{'\}'}) \&\& ctx.parse\_object\_stop();}
\DoxyCodeLine{854 \}}
\DoxyCodeLine{855 }
\DoxyCodeLine{856 \textcolor{keyword}{template} <\textcolor{keyword}{typename} Iter> \textcolor{keyword}{inline} std::string \_parse\_number(input<Iter> \&in) \{}
\DoxyCodeLine{857   std::string num\_str;}
\DoxyCodeLine{858   \textcolor{keywordflow}{while} (1) \{}
\DoxyCodeLine{859     \textcolor{keywordtype}{int} ch = in.getc();}
\DoxyCodeLine{860     \textcolor{keywordflow}{if} ((\textcolor{charliteral}{'0'} <= ch \&\& ch <= \textcolor{charliteral}{'9'}) || ch == \textcolor{charliteral}{'+'} || ch == \textcolor{charliteral}{'-\/'} || ch == \textcolor{charliteral}{'e'} || ch == \textcolor{charliteral}{'E'}) \{}
\DoxyCodeLine{861       num\_str.push\_back(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char}\textcolor{keyword}{>}(ch));}
\DoxyCodeLine{862     \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (ch == \textcolor{charliteral}{'.'}) \{}
\DoxyCodeLine{863 \textcolor{preprocessor}{\#if PICOJSON\_USE\_LOCALE}}
\DoxyCodeLine{864       num\_str += localeconv()-\/>decimal\_point;}
\DoxyCodeLine{865 \textcolor{preprocessor}{\#else}}
\DoxyCodeLine{866       num\_str.push\_back(\textcolor{charliteral}{'.'});}
\DoxyCodeLine{867 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{868     \} \textcolor{keywordflow}{else} \{}
\DoxyCodeLine{869       in.ungetc();}
\DoxyCodeLine{870       \textcolor{keywordflow}{break};}
\DoxyCodeLine{871     \}}
\DoxyCodeLine{872   \}}
\DoxyCodeLine{873   \textcolor{keywordflow}{return} num\_str;}
\DoxyCodeLine{874 \}}
\DoxyCodeLine{875 }
\DoxyCodeLine{876 \textcolor{keyword}{template} <\textcolor{keyword}{typename} Context, \textcolor{keyword}{typename} Iter> \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} \_parse(Context \&ctx, input<Iter> \&in) \{}
\DoxyCodeLine{877   in.skip\_ws();}
\DoxyCodeLine{878   \textcolor{keywordtype}{int} ch = in.getc();}
\DoxyCodeLine{879   \textcolor{keywordflow}{switch} (ch) \{}
\DoxyCodeLine{880 \textcolor{preprocessor}{\#define IS(ch, text, op)                                                                                                           \(\backslash\)}}
\DoxyCodeLine{881 \textcolor{preprocessor}{  case ch:                                                                                                                         \(\backslash\)}}
\DoxyCodeLine{882 \textcolor{preprocessor}{    if (in.match(text) \&\& op) \{                                                                                                    \(\backslash\)}}
\DoxyCodeLine{883 \textcolor{preprocessor}{      return true;                                                                                                                 \(\backslash\)}}
\DoxyCodeLine{884 \textcolor{preprocessor}{    \} else \{                                                                                                                       \(\backslash\)}}
\DoxyCodeLine{885 \textcolor{preprocessor}{      return false;                                                                                                                \(\backslash\)}}
\DoxyCodeLine{886 \textcolor{preprocessor}{    \}}}
\DoxyCodeLine{887     IS(\textcolor{charliteral}{'n'}, \textcolor{stringliteral}{"{}ull"{}}, ctx.set\_null());}
\DoxyCodeLine{888     IS(\textcolor{charliteral}{'f'}, \textcolor{stringliteral}{"{}alse"{}}, ctx.set\_bool(\textcolor{keyword}{false}));}
\DoxyCodeLine{889     IS(\textcolor{charliteral}{'t'}, \textcolor{stringliteral}{"{}rue"{}}, ctx.set\_bool(\textcolor{keyword}{true}));}
\DoxyCodeLine{890 \textcolor{preprocessor}{\#undef IS}}
\DoxyCodeLine{891   \textcolor{keywordflow}{case} \textcolor{charliteral}{'"{}'}:}
\DoxyCodeLine{892     \textcolor{keywordflow}{return} ctx.parse\_string(in);}
\DoxyCodeLine{893   \textcolor{keywordflow}{case} \textcolor{charliteral}{'['}:}
\DoxyCodeLine{894     \textcolor{keywordflow}{return} \_parse\_array(ctx, in);}
\DoxyCodeLine{895   \textcolor{keywordflow}{case} \textcolor{charliteral}{'\{'}:}
\DoxyCodeLine{896     \textcolor{keywordflow}{return} \_parse\_object(ctx, in);}
\DoxyCodeLine{897   \textcolor{keywordflow}{default}:}
\DoxyCodeLine{898     \textcolor{keywordflow}{if} ((\textcolor{charliteral}{'0'} <= ch \&\& ch <= \textcolor{charliteral}{'9'}) || ch == \textcolor{charliteral}{'-\/'}) \{}
\DoxyCodeLine{899       \textcolor{keywordtype}{double} f;}
\DoxyCodeLine{900       \textcolor{keywordtype}{char} *endp;}
\DoxyCodeLine{901       in.ungetc();}
\DoxyCodeLine{902       std::string num\_str(\_parse\_number(in));}
\DoxyCodeLine{903       \textcolor{keywordflow}{if} (num\_str.empty()) \{}
\DoxyCodeLine{904         \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{905       \}}
\DoxyCodeLine{906 \textcolor{preprocessor}{\#ifdef PICOJSON\_USE\_INT64}}
\DoxyCodeLine{907       \{}
\DoxyCodeLine{908         errno = 0;}
\DoxyCodeLine{909         intmax\_t ival = strtoimax(num\_str.c\_str(), \&endp, 10);}
\DoxyCodeLine{910         \textcolor{keywordflow}{if} (errno == 0 \&\& std::numeric\_limits<int64\_t>::min() <= ival \&\& ival <= std::numeric\_limits<int64\_t>::max() \&\&}
\DoxyCodeLine{911             endp == num\_str.c\_str() + num\_str.size()) \{}
\DoxyCodeLine{912           ctx.set\_int64(ival);}
\DoxyCodeLine{913           \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{914         \}}
\DoxyCodeLine{915       \}}
\DoxyCodeLine{916 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{917       f = strtod(num\_str.c\_str(), \&endp);}
\DoxyCodeLine{918       \textcolor{keywordflow}{if} (endp == num\_str.c\_str() + num\_str.size()) \{}
\DoxyCodeLine{919         ctx.set\_number(f);}
\DoxyCodeLine{920         \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{921       \}}
\DoxyCodeLine{922       \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{923     \}}
\DoxyCodeLine{924     \textcolor{keywordflow}{break};}
\DoxyCodeLine{925   \}}
\DoxyCodeLine{926   in.ungetc();}
\DoxyCodeLine{927   \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{928 \}}
\DoxyCodeLine{929 }
\DoxyCodeLine{930 \textcolor{keyword}{class }\mbox{\hyperlink{classpicojson_1_1deny__parse__context}{deny\_parse\_context}} \{}
\DoxyCodeLine{931 \textcolor{keyword}{public}:}
\DoxyCodeLine{932   \textcolor{keywordtype}{bool} set\_null() \{}
\DoxyCodeLine{933     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{934   \}}
\DoxyCodeLine{935   \textcolor{keywordtype}{bool} set\_bool(\textcolor{keywordtype}{bool}) \{}
\DoxyCodeLine{936     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{937   \}}
\DoxyCodeLine{938 \textcolor{preprocessor}{\#ifdef PICOJSON\_USE\_INT64}}
\DoxyCodeLine{939   \textcolor{keywordtype}{bool} set\_int64(int64\_t) \{}
\DoxyCodeLine{940     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{941   \}}
\DoxyCodeLine{942 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{943   \textcolor{keywordtype}{bool} set\_number(\textcolor{keywordtype}{double}) \{}
\DoxyCodeLine{944     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{945   \}}
\DoxyCodeLine{946   \textcolor{keyword}{template} <\textcolor{keyword}{typename} Iter> \textcolor{keywordtype}{bool} parse\_string(\mbox{\hyperlink{classpicojson_1_1input}{input<Iter>}} \&) \{}
\DoxyCodeLine{947     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{948   \}}
\DoxyCodeLine{949   \textcolor{keywordtype}{bool} parse\_array\_start() \{}
\DoxyCodeLine{950     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{951   \}}
\DoxyCodeLine{952   \textcolor{keyword}{template} <\textcolor{keyword}{typename} Iter> \textcolor{keywordtype}{bool} parse\_array\_item(\mbox{\hyperlink{classpicojson_1_1input}{input<Iter>}} \&, \textcolor{keywordtype}{size\_t}) \{}
\DoxyCodeLine{953     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{954   \}}
\DoxyCodeLine{955   \textcolor{keywordtype}{bool} parse\_array\_stop(\textcolor{keywordtype}{size\_t}) \{}
\DoxyCodeLine{956     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{957   \}}
\DoxyCodeLine{958   \textcolor{keywordtype}{bool} parse\_object\_start() \{}
\DoxyCodeLine{959     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{960   \}}
\DoxyCodeLine{961   \textcolor{keyword}{template} <\textcolor{keyword}{typename} Iter> \textcolor{keywordtype}{bool} parse\_object\_item(\mbox{\hyperlink{classpicojson_1_1input}{input<Iter>}} \&, \textcolor{keyword}{const} std::string \&) \{}
\DoxyCodeLine{962     \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{963   \}}
\DoxyCodeLine{964 \};}
\DoxyCodeLine{965 }
\DoxyCodeLine{966 \textcolor{keyword}{class }\mbox{\hyperlink{classpicojson_1_1default__parse__context}{default\_parse\_context}} \{}
\DoxyCodeLine{967 \textcolor{keyword}{protected}:}
\DoxyCodeLine{968   \mbox{\hyperlink{classpicojson_1_1value}{value}} *out\_;}
\DoxyCodeLine{969   \textcolor{keywordtype}{size\_t} depths\_;}
\DoxyCodeLine{970 }
\DoxyCodeLine{971 \textcolor{keyword}{public}:}
\DoxyCodeLine{972   \mbox{\hyperlink{classpicojson_1_1default__parse__context}{default\_parse\_context}}(\mbox{\hyperlink{classpicojson_1_1value}{value}} *out, \textcolor{keywordtype}{size\_t} depths = DEFAULT\_MAX\_DEPTHS) : out\_(out), depths\_(depths) \{}
\DoxyCodeLine{973   \}}
\DoxyCodeLine{974   \textcolor{keywordtype}{bool} set\_null() \{}
\DoxyCodeLine{975     *out\_ = \mbox{\hyperlink{classpicojson_1_1value}{value}}();}
\DoxyCodeLine{976     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{977   \}}
\DoxyCodeLine{978   \textcolor{keywordtype}{bool} set\_bool(\textcolor{keywordtype}{bool} b) \{}
\DoxyCodeLine{979     *out\_ = \mbox{\hyperlink{classpicojson_1_1value}{value}}(b);}
\DoxyCodeLine{980     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{981   \}}
\DoxyCodeLine{982 \textcolor{preprocessor}{\#ifdef PICOJSON\_USE\_INT64}}
\DoxyCodeLine{983   \textcolor{keywordtype}{bool} set\_int64(int64\_t i) \{}
\DoxyCodeLine{984     *out\_ = \mbox{\hyperlink{classpicojson_1_1value}{value}}(i);}
\DoxyCodeLine{985     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{986   \}}
\DoxyCodeLine{987 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{988   \textcolor{keywordtype}{bool} set\_number(\textcolor{keywordtype}{double} f) \{}
\DoxyCodeLine{989     *out\_ = \mbox{\hyperlink{classpicojson_1_1value}{value}}(f);}
\DoxyCodeLine{990     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{991   \}}
\DoxyCodeLine{992   \textcolor{keyword}{template} <\textcolor{keyword}{typename} Iter> \textcolor{keywordtype}{bool} parse\_string(\mbox{\hyperlink{classpicojson_1_1input}{input<Iter>}} \&in) \{}
\DoxyCodeLine{993     *out\_ = \mbox{\hyperlink{classpicojson_1_1value}{value}}(string\_type, \textcolor{keyword}{false});}
\DoxyCodeLine{994     \textcolor{keywordflow}{return} \_parse\_string(out\_-\/>get<std::string>(), in);}
\DoxyCodeLine{995   \}}
\DoxyCodeLine{996   \textcolor{keywordtype}{bool} parse\_array\_start() \{}
\DoxyCodeLine{997     \textcolor{keywordflow}{if} (depths\_ == 0)}
\DoxyCodeLine{998       \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{999     -\/-\/depths\_;}
\DoxyCodeLine{1000     *out\_ = \mbox{\hyperlink{classpicojson_1_1value}{value}}(array\_type, \textcolor{keyword}{false});}
\DoxyCodeLine{1001     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{1002   \}}
\DoxyCodeLine{1003   \textcolor{keyword}{template} <\textcolor{keyword}{typename} Iter> \textcolor{keywordtype}{bool} parse\_array\_item(\mbox{\hyperlink{classpicojson_1_1input}{input<Iter>}} \&in, \textcolor{keywordtype}{size\_t}) \{}
\DoxyCodeLine{1004     array \&a = out\_-\/>get<array>();}
\DoxyCodeLine{1005     a.push\_back(\mbox{\hyperlink{classpicojson_1_1value}{value}}());}
\DoxyCodeLine{1006     \mbox{\hyperlink{classpicojson_1_1default__parse__context}{default\_parse\_context}} ctx(\&a.back(), depths\_);}
\DoxyCodeLine{1007     \textcolor{keywordflow}{return} \_parse(ctx, in);}
\DoxyCodeLine{1008   \}}
\DoxyCodeLine{1009   \textcolor{keywordtype}{bool} parse\_array\_stop(\textcolor{keywordtype}{size\_t}) \{}
\DoxyCodeLine{1010     ++depths\_;}
\DoxyCodeLine{1011     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{1012   \}}
\DoxyCodeLine{1013   \textcolor{keywordtype}{bool} parse\_object\_start() \{}
\DoxyCodeLine{1014     \textcolor{keywordflow}{if} (depths\_ == 0)}
\DoxyCodeLine{1015       \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{1016     *out\_ = \mbox{\hyperlink{classpicojson_1_1value}{value}}(object\_type, \textcolor{keyword}{false});}
\DoxyCodeLine{1017     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{1018   \}}
\DoxyCodeLine{1019   \textcolor{keyword}{template} <\textcolor{keyword}{typename} Iter> \textcolor{keywordtype}{bool} parse\_object\_item(\mbox{\hyperlink{classpicojson_1_1input}{input<Iter>}} \&in, \textcolor{keyword}{const} std::string \&key) \{}
\DoxyCodeLine{1020     \textcolor{keywordtype}{object} \&o = out\_-\/>get<\textcolor{keywordtype}{object}>();}
\DoxyCodeLine{1021     \mbox{\hyperlink{classpicojson_1_1default__parse__context}{default\_parse\_context}} ctx(\&o[key], depths\_);}
\DoxyCodeLine{1022     \textcolor{keywordflow}{return} \_parse(ctx, in);}
\DoxyCodeLine{1023   \}}
\DoxyCodeLine{1024   \textcolor{keywordtype}{bool} parse\_object\_stop() \{}
\DoxyCodeLine{1025     ++depths\_;}
\DoxyCodeLine{1026     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{1027   \}}
\DoxyCodeLine{1028 }
\DoxyCodeLine{1029 \textcolor{keyword}{private}:}
\DoxyCodeLine{1030   \mbox{\hyperlink{classpicojson_1_1default__parse__context}{default\_parse\_context}}(\textcolor{keyword}{const} \mbox{\hyperlink{classpicojson_1_1default__parse__context}{default\_parse\_context}} \&);}
\DoxyCodeLine{1031   \mbox{\hyperlink{classpicojson_1_1default__parse__context}{default\_parse\_context}} \&operator=(\textcolor{keyword}{const} \mbox{\hyperlink{classpicojson_1_1default__parse__context}{default\_parse\_context}} \&);}
\DoxyCodeLine{1032 \};}
\DoxyCodeLine{1033 }
\DoxyCodeLine{1034 \textcolor{keyword}{class }\mbox{\hyperlink{classpicojson_1_1null__parse__context}{null\_parse\_context}} \{}
\DoxyCodeLine{1035 \textcolor{keyword}{protected}:}
\DoxyCodeLine{1036   \textcolor{keywordtype}{size\_t} depths\_;}
\DoxyCodeLine{1037 }
\DoxyCodeLine{1038 \textcolor{keyword}{public}:}
\DoxyCodeLine{1039   \textcolor{keyword}{struct }\mbox{\hyperlink{structpicojson_1_1null__parse__context_1_1dummy__str}{dummy\_str}} \{}
\DoxyCodeLine{1040     \textcolor{keywordtype}{void} push\_back(\textcolor{keywordtype}{int}) \{}
\DoxyCodeLine{1041     \}}
\DoxyCodeLine{1042   \};}
\DoxyCodeLine{1043 }
\DoxyCodeLine{1044 \textcolor{keyword}{public}:}
\DoxyCodeLine{1045   \mbox{\hyperlink{classpicojson_1_1null__parse__context}{null\_parse\_context}}(\textcolor{keywordtype}{size\_t} depths = DEFAULT\_MAX\_DEPTHS) : depths\_(depths) \{}
\DoxyCodeLine{1046   \}}
\DoxyCodeLine{1047   \textcolor{keywordtype}{bool} set\_null() \{}
\DoxyCodeLine{1048     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{1049   \}}
\DoxyCodeLine{1050   \textcolor{keywordtype}{bool} set\_bool(\textcolor{keywordtype}{bool}) \{}
\DoxyCodeLine{1051     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{1052   \}}
\DoxyCodeLine{1053 \textcolor{preprocessor}{\#ifdef PICOJSON\_USE\_INT64}}
\DoxyCodeLine{1054   \textcolor{keywordtype}{bool} set\_int64(int64\_t) \{}
\DoxyCodeLine{1055     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{1056   \}}
\DoxyCodeLine{1057 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{1058   \textcolor{keywordtype}{bool} set\_number(\textcolor{keywordtype}{double}) \{}
\DoxyCodeLine{1059     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{1060   \}}
\DoxyCodeLine{1061   \textcolor{keyword}{template} <\textcolor{keyword}{typename} Iter> \textcolor{keywordtype}{bool} parse\_string(input<Iter> \&in) \{}
\DoxyCodeLine{1062     dummy\_str s;}
\DoxyCodeLine{1063     \textcolor{keywordflow}{return} \_parse\_string(s, in);}
\DoxyCodeLine{1064   \}}
\DoxyCodeLine{1065   \textcolor{keywordtype}{bool} parse\_array\_start() \{}
\DoxyCodeLine{1066     \textcolor{keywordflow}{if} (depths\_ == 0)}
\DoxyCodeLine{1067       \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{1068     -\/-\/depths\_;}
\DoxyCodeLine{1069     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{1070   \}}
\DoxyCodeLine{1071   \textcolor{keyword}{template} <\textcolor{keyword}{typename} Iter> \textcolor{keywordtype}{bool} parse\_array\_item(input<Iter> \&in, \textcolor{keywordtype}{size\_t}) \{}
\DoxyCodeLine{1072     \textcolor{keywordflow}{return} \_parse(*\textcolor{keyword}{this}, in);}
\DoxyCodeLine{1073   \}}
\DoxyCodeLine{1074   \textcolor{keywordtype}{bool} parse\_array\_stop(\textcolor{keywordtype}{size\_t}) \{}
\DoxyCodeLine{1075     ++depths\_;}
\DoxyCodeLine{1076     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{1077   \}}
\DoxyCodeLine{1078   \textcolor{keywordtype}{bool} parse\_object\_start() \{}
\DoxyCodeLine{1079     \textcolor{keywordflow}{if} (depths\_ == 0)}
\DoxyCodeLine{1080       \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{1081     -\/-\/depths\_;}
\DoxyCodeLine{1082     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{1083   \}}
\DoxyCodeLine{1084   \textcolor{keyword}{template} <\textcolor{keyword}{typename} Iter> \textcolor{keywordtype}{bool} parse\_object\_item(input<Iter> \&in, \textcolor{keyword}{const} std::string \&) \{}
\DoxyCodeLine{1085     ++depths\_;}
\DoxyCodeLine{1086     \textcolor{keywordflow}{return} \_parse(*\textcolor{keyword}{this}, in);}
\DoxyCodeLine{1087   \}}
\DoxyCodeLine{1088   \textcolor{keywordtype}{bool} parse\_object\_stop() \{}
\DoxyCodeLine{1089     \textcolor{keywordflow}{return} \textcolor{keyword}{true};}
\DoxyCodeLine{1090   \}}
\DoxyCodeLine{1091 }
\DoxyCodeLine{1092 \textcolor{keyword}{private}:}
\DoxyCodeLine{1093   null\_parse\_context(\textcolor{keyword}{const} null\_parse\_context \&);}
\DoxyCodeLine{1094   null\_parse\_context \&operator=(\textcolor{keyword}{const} null\_parse\_context \&);}
\DoxyCodeLine{1095 \};}
\DoxyCodeLine{1096 }
\DoxyCodeLine{1097 \textcolor{comment}{// obsolete, use the version below}}
\DoxyCodeLine{1098 \textcolor{keyword}{template} <\textcolor{keyword}{typename} Iter> \textcolor{keyword}{inline} std::string parse(value \&out, Iter \&pos, \textcolor{keyword}{const} Iter \&last) \{}
\DoxyCodeLine{1099   std::string err;}
\DoxyCodeLine{1100   pos = parse(out, pos, last, \&err);}
\DoxyCodeLine{1101   \textcolor{keywordflow}{return} err;}
\DoxyCodeLine{1102 \}}
\DoxyCodeLine{1103 }
\DoxyCodeLine{1104 \textcolor{keyword}{template} <\textcolor{keyword}{typename} Context, \textcolor{keyword}{typename} Iter> \textcolor{keyword}{inline} Iter \_parse(Context \&ctx, \textcolor{keyword}{const} Iter \&first, \textcolor{keyword}{const} Iter \&last, std::string *err) \{}
\DoxyCodeLine{1105   input<Iter> in(first, last);}
\DoxyCodeLine{1106   \textcolor{keywordflow}{if} (!\_parse(ctx, in) \&\& err != NULL) \{}
\DoxyCodeLine{1107     \textcolor{keywordtype}{char} buf[64];}
\DoxyCodeLine{1108     SNPRINTF(buf, \textcolor{keyword}{sizeof}(buf), \textcolor{stringliteral}{"{}syntax error at line \%d near: "{}}, in.line());}
\DoxyCodeLine{1109     *err = buf;}
\DoxyCodeLine{1110     \textcolor{keywordflow}{while} (1) \{}
\DoxyCodeLine{1111       \textcolor{keywordtype}{int} ch = in.getc();}
\DoxyCodeLine{1112       \textcolor{keywordflow}{if} (ch == -\/1 || ch == \textcolor{charliteral}{'\(\backslash\)n'}) \{}
\DoxyCodeLine{1113         \textcolor{keywordflow}{break};}
\DoxyCodeLine{1114       \} \textcolor{keywordflow}{else} \textcolor{keywordflow}{if} (ch >= \textcolor{charliteral}{' '}) \{}
\DoxyCodeLine{1115         err-\/>push\_back(\textcolor{keyword}{static\_cast<}\textcolor{keywordtype}{char}\textcolor{keyword}{>}(ch));}
\DoxyCodeLine{1116       \}}
\DoxyCodeLine{1117     \}}
\DoxyCodeLine{1118   \}}
\DoxyCodeLine{1119   \textcolor{keywordflow}{return} in.cur();}
\DoxyCodeLine{1120 \}}
\DoxyCodeLine{1121 }
\DoxyCodeLine{1122 \textcolor{keyword}{template} <\textcolor{keyword}{typename} Iter> \textcolor{keyword}{inline} Iter parse(value \&out, \textcolor{keyword}{const} Iter \&first, \textcolor{keyword}{const} Iter \&last, std::string *err) \{}
\DoxyCodeLine{1123   default\_parse\_context ctx(\&out);}
\DoxyCodeLine{1124   \textcolor{keywordflow}{return} \_parse(ctx, first, last, err);}
\DoxyCodeLine{1125 \}}
\DoxyCodeLine{1126 }
\DoxyCodeLine{1127 \textcolor{keyword}{inline} std::string parse(value \&out, \textcolor{keyword}{const} std::string \&s) \{}
\DoxyCodeLine{1128   std::string err;}
\DoxyCodeLine{1129   parse(out, s.begin(), s.end(), \&err);}
\DoxyCodeLine{1130   \textcolor{keywordflow}{return} err;}
\DoxyCodeLine{1131 \}}
\DoxyCodeLine{1132 }
\DoxyCodeLine{1133 \textcolor{keyword}{inline} std::string parse(value \&out, std::istream \&is) \{}
\DoxyCodeLine{1134   std::string err;}
\DoxyCodeLine{1135   parse(out, std::istreambuf\_iterator<char>(is.rdbuf()), std::istreambuf\_iterator<char>(), \&err);}
\DoxyCodeLine{1136   \textcolor{keywordflow}{return} err;}
\DoxyCodeLine{1137 \}}
\DoxyCodeLine{1138 }
\DoxyCodeLine{1139 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T> \textcolor{keyword}{struct }\mbox{\hyperlink{structpicojson_1_1last__error__t}{last\_error\_t}} \{ \textcolor{keyword}{static} std::string s; \};}
\DoxyCodeLine{1140 \textcolor{keyword}{template} <\textcolor{keyword}{typename} T> std::string \mbox{\hyperlink{structpicojson_1_1last__error__t}{last\_error\_t<T>::s}};}
\DoxyCodeLine{1141 }
\DoxyCodeLine{1142 \textcolor{keyword}{inline} \textcolor{keywordtype}{void} set\_last\_error(\textcolor{keyword}{const} std::string \&s) \{}
\DoxyCodeLine{1143   \mbox{\hyperlink{structpicojson_1_1last__error__t}{last\_error\_t<bool>::s}} = s;}
\DoxyCodeLine{1144 \}}
\DoxyCodeLine{1145 }
\DoxyCodeLine{1146 \textcolor{keyword}{inline} \textcolor{keyword}{const} std::string \&get\_last\_error() \{}
\DoxyCodeLine{1147   \textcolor{keywordflow}{return} last\_error\_t<bool>::s;}
\DoxyCodeLine{1148 \}}
\DoxyCodeLine{1149 }
\DoxyCodeLine{1150 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} operator==(\textcolor{keyword}{const} value \&x, \textcolor{keyword}{const} value \&y) \{}
\DoxyCodeLine{1151   \textcolor{keywordflow}{if} (x.is<\textcolor{keyword}{null}>())}
\DoxyCodeLine{1152     \textcolor{keywordflow}{return} y.is<\textcolor{keyword}{null}>();}
\DoxyCodeLine{1153 \textcolor{preprocessor}{\#define PICOJSON\_CMP(type)                                                                                                         \(\backslash\)}}
\DoxyCodeLine{1154 \textcolor{preprocessor}{  if (x.is<type>())                                                                                                                \(\backslash\)}}
\DoxyCodeLine{1155 \textcolor{preprocessor}{  return y.is<type>() \&\& x.get<type>() == y.get<type>()}}
\DoxyCodeLine{1156   PICOJSON\_CMP(\textcolor{keywordtype}{bool});}
\DoxyCodeLine{1157   PICOJSON\_CMP(\textcolor{keywordtype}{double});}
\DoxyCodeLine{1158   PICOJSON\_CMP(std::string);}
\DoxyCodeLine{1159   PICOJSON\_CMP(array);}
\DoxyCodeLine{1160   PICOJSON\_CMP(\textcolor{keywordtype}{object});}
\DoxyCodeLine{1161 \textcolor{preprocessor}{\#undef PICOJSON\_CMP}}
\DoxyCodeLine{1162   PICOJSON\_ASSERT(0);}
\DoxyCodeLine{1163 \textcolor{preprocessor}{\#ifdef \_MSC\_VER}}
\DoxyCodeLine{1164   \textcolor{keyword}{\_\_assume}(0);}
\DoxyCodeLine{1165 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{1166   \textcolor{keywordflow}{return} \textcolor{keyword}{false};}
\DoxyCodeLine{1167 \}}
\DoxyCodeLine{1168 }
\DoxyCodeLine{1169 \textcolor{keyword}{inline} \textcolor{keywordtype}{bool} operator!=(\textcolor{keyword}{const} value \&x, \textcolor{keyword}{const} value \&y) \{}
\DoxyCodeLine{1170   \textcolor{keywordflow}{return} !(x == y);}
\DoxyCodeLine{1171 \}}
\DoxyCodeLine{1172 \}}
\DoxyCodeLine{1173 }
\DoxyCodeLine{1174 \textcolor{preprocessor}{\#if !PICOJSON\_USE\_RVALUE\_REFERENCE}}
\DoxyCodeLine{1175 \textcolor{keyword}{namespace }std \{}
\DoxyCodeLine{1176 \textcolor{keyword}{template} <> \textcolor{keyword}{inline} \textcolor{keywordtype}{void} swap(\mbox{\hyperlink{classpicojson_1_1value}{picojson::value}} \&x, \mbox{\hyperlink{classpicojson_1_1value}{picojson::value}} \&y) \{}
\DoxyCodeLine{1177   x.swap(y);}
\DoxyCodeLine{1178 \}}
\DoxyCodeLine{1179 \}}
\DoxyCodeLine{1180 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{1181 }
\DoxyCodeLine{1182 \textcolor{keyword}{inline} std::istream \&operator>>(std::istream \&is, \mbox{\hyperlink{classpicojson_1_1value}{picojson::value}} \&x) \{}
\DoxyCodeLine{1183   picojson::set\_last\_error(std::string());}
\DoxyCodeLine{1184   \textcolor{keyword}{const} std::string err(picojson::parse(x, is));}
\DoxyCodeLine{1185   \textcolor{keywordflow}{if} (!err.empty()) \{}
\DoxyCodeLine{1186     picojson::set\_last\_error(err);}
\DoxyCodeLine{1187     is.setstate(std::ios::failbit);}
\DoxyCodeLine{1188   \}}
\DoxyCodeLine{1189   \textcolor{keywordflow}{return} is;}
\DoxyCodeLine{1190 \}}
\DoxyCodeLine{1191 }
\DoxyCodeLine{1192 \textcolor{keyword}{inline} std::ostream \&operator<<(std::ostream \&os, \textcolor{keyword}{const} \mbox{\hyperlink{classpicojson_1_1value}{picojson::value}} \&x) \{}
\DoxyCodeLine{1193   x.serialize(std::ostream\_iterator<char>(os));}
\DoxyCodeLine{1194   \textcolor{keywordflow}{return} os;}
\DoxyCodeLine{1195 \}}
\DoxyCodeLine{1196 \textcolor{preprocessor}{\#ifdef \_MSC\_VER}}
\DoxyCodeLine{1197 \textcolor{preprocessor}{\#pragma warning(pop)}}
\DoxyCodeLine{1198 \textcolor{preprocessor}{\#endif}}
\DoxyCodeLine{1199 }
\DoxyCodeLine{1200 \textcolor{preprocessor}{\#endif}}

\end{DoxyCode}
