<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.2"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>CHIP-SPV: What is this repository for?</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">CHIP-SPV<span id="projectnumber">&#160;0.1.0</span>
   </div>
   <div id="projectbrief">Multiple backend interface for HIP</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.2 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div><div class="header">
  <div class="headertitle"><div class="title">What is this repository for? </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p ><b>HIP is a C++ Runtime API and Kernel Language that allows developers to create portable applications for AMD and NVIDIA GPUs from single source code.</b></p>
<p >Key features include:</p>
<ul>
<li>HIP is very thin and has little or no performance impact over coding directly in CUDA mode.</li>
<li>HIP allows coding in a single-source C++ programming language including features such as templates, C++11 lambdas, classes, namespaces, and more.</li>
<li>HIP allows developers to use the "best" development environment and tools on each target platform.</li>
<li>The <a href="https://github.com/ROCm-Developer-Tools/HIPIFY/blob/master/README.md">HIPIFY</a> tools automatically convert source from CUDA to HIP.</li>
<li>Developers can specialize for the platform (CUDA or AMD) to tune for performance or handle tricky cases.</li>
</ul>
<p >New projects can be developed directly in the portable HIP C++ language and can run on either NVIDIA or AMD platforms. Additionally, HIP provides porting tools which make it easy to port existing CUDA codes to the HIP layer, with no loss of performance as compared to the original CUDA application. HIP is not intended to be a drop-in replacement for CUDA, and developers should expect to do some manual coding and performance tuning work to complete the port.</p>
<h1><a class="anchor" id="autotoc_md818"></a>
DISCLAIMER</h1>
<p >The information contained herein is for informational purposes only, and is subject to change without notice. In addition, any stated support is planned and is also subject to change. While every precaution has been taken in the preparation of this document, it may contain technical inaccuracies, omissions and typographical errors, and AMD is under no obligation to update or otherwise correct this information. Advanced Micro Devices, Inc. makes no representations or warranties with respect to the accuracy or completeness of the contents of this document, and assumes no liability of any kind, including the implied warranties of noninfringement, merchantability or fitness for particular purposes, with respect to the operation or use of AMD hardware, software or other products described herein. No license, including implied or arising by estoppel, to any intellectual property rights is granted by this document. Terms and limitations applicable to the purchase or use of AMD’s products are as set forth in a signed agreement between the parties or in AMD's Standard Terms and Conditions of Sale.</p>
<p >© 2020 Advanced Micro Devices, Inc. All Rights Reserved.</p>
<h1><a class="anchor" id="autotoc_md819"></a>
Repository branches:</h1>
<p >The HIP repository maintains several branches. The branches that are of importance are:</p>
<ul>
<li>develop branch: This is the default branch, on which the new features are still under development and visible. While this maybe of interest to many, it should be noted that this branch and the features under development might not be stable.</li>
<li>Main branch: This is the stable branch. It is up to date with the latest release branch, for example, if the latest HIP release is rocm-4.3, main branch will be the repository based on this release.</li>
<li>Release branches. These are branches corresponding to each ROCM release, listed with release tags, such as rocm-4.2, rocm-4.3, etc.</li>
</ul>
<h1><a class="anchor" id="autotoc_md820"></a>
Release tagging:</h1>
<p >HIP releases are typically naming convention for each ROCM release to help differentiate them.</p>
<ul>
<li>rocm x.yy: These are the stable releases based on the ROCM release. This type of release is typically made once a month.*</li>
</ul>
<h1><a class="anchor" id="autotoc_md821"></a>
More Info:</h1>
<ul>
<li><a class="el" href="md___users_pvelesko_local__c_h_i_p__s_p_v__h_i_p__i_n_s_t_a_l_l.html">Installation</a></li>
<li><a class="el" href="md___users_pvelesko_local__c_h_i_p__s_p_v__h_i_p_docs_markdown_hip_faq.html">HIP FAQ</a></li>
<li><a class="el" href="md___users_pvelesko_local__c_h_i_p__s_p_v__h_i_p_docs_markdown_hip_kernel_language.html">HIP Kernel Language</a></li>
<li><a href="https://github.com/RadeonOpenCompute/ROCm">HIP Runtime API (Doxygen)</a></li>
<li><a class="el" href="md___users_pvelesko_local__c_h_i_p__s_p_v__h_i_p_docs_markdown_hip_porting_guide.html">HIP Porting Guide</a></li>
<li><a class="el" href="md___users_pvelesko_local__c_h_i_p__s_p_v__h_i_p_docs_markdown_hip_porting_driver_api.html">HIP Porting Driver Guide</a></li>
<li><a class="el" href="md___users_pvelesko_local__c_h_i_p__s_p_v__h_i_p_docs_markdown_hip_programming_guide.html">HIP Programming Guide</a></li>
<li><a class="el" href="md___users_pvelesko_local__c_h_i_p__s_p_v__h_i_p_docs_markdown_hip_logging.html">HIP Logging </a></li>
<li><a class="el" href="md___users_pvelesko_local__c_h_i_p__s_p_v__h_i_p_docs_markdown_hip_debugging.html">HIP Debugging </a></li>
<li><a class="el" href="md___users_pvelesko_local__c_h_i_p__s_p_v__h_i_p_docs_markdown_obj_tooling.html">Code Object tooling </a></li>
<li><a class="el" href="md___users_pvelesko_local__c_h_i_p__s_p_v__h_i_p_docs_markdown_hip_terms2.html">HIP Terminology</a> (including Rosetta Stone of GPU computing terms across CUDA/HIP/OpenCL)</li>
<li><a href="https://github.com/ROCm-Developer-Tools/HIPIFY/blob/master/README.md">HIPIFY</a></li>
<li>Supported CUDA APIs:<ul>
<li><a href="https://github.com/ROCm-Developer-Tools/HIPIFY/blob/master/doc/markdown/CUDA_Runtime_API_functions_supported_by_HIP.md">Runtime API</a></li>
<li><a href="https://github.com/ROCm-Developer-Tools/HIPIFY/blob/master/doc/markdown/CUDA_Driver_API_functions_supported_by_HIP.md">Driver API</a></li>
<li><a href="https://github.com/ROCm-Developer-Tools/HIPIFY/blob/master/doc/markdown/cuComplex_API_supported_by_HIP.md">cuComplex API</a></li>
<li><a href="https://github.com/ROCm-Developer-Tools/HIPIFY/blob/master/doc/markdown/CUDA_Device_API_supported_by_HIP.md">Device API</a></li>
<li><a href="https://github.com/ROCm-Developer-Tools/HIPIFY/blob/master/doc/markdown/CUBLAS_API_supported_by_HIP.md">cuBLAS</a></li>
<li><a href="https://github.com/ROCm-Developer-Tools/HIPIFY/blob/master/doc/markdown/CURAND_API_supported_by_HIP.md">cuRAND</a></li>
<li><a href="https://github.com/ROCm-Developer-Tools/HIPIFY/blob/master/doc/markdown/CUDNN_API_supported_by_HIP.md">cuDNN</a></li>
<li><a href="https://github.com/ROCm-Developer-Tools/HIPIFY/blob/master/doc/markdown/CUFFT_API_supported_by_HIP.md">cuFFT</a></li>
<li><a href="https://github.com/ROCm-Developer-Tools/HIPIFY/blob/master/doc/markdown/CUSPARSE_API_supported_by_HIP.md">cuSPARSE</a></li>
</ul>
</li>
<li><a class="el" href="md___users_pvelesko_local__c_h_i_p__s_p_v__h_i_p__c_o_n_t_r_i_b_u_t_i_n_g.html">Developer/CONTRIBUTING Info</a></li>
<li><a class="el" href="md___users_pvelesko_local__c_h_i_p__s_p_v__h_i_p__r_e_l_e_a_s_e.html">Release Notes</a></li>
</ul>
<h1><a class="anchor" id="autotoc_md822"></a>
How do I get set up?</h1>
<p >See the <a class="el" href="md___users_pvelesko_local__c_h_i_p__s_p_v__h_i_p__i_n_s_t_a_l_l.html">Installation</a> notes.</p>
<h1><a class="anchor" id="autotoc_md823"></a>
Simple Example</h1>
<p >The HIP API includes functions such as hipMalloc, hipMemcpy, and hipFree. Programmers familiar with CUDA will also be able to quickly learn and start coding with the HIP API. Compute kernels are launched with the "hipLaunchKernel" macro call. Here is simple example showing a snippet of HIP API code:</p>
<div class="fragment"><div class="line">hipMalloc(&amp;A_d, Nbytes));</div>
<div class="line">hipMalloc(&amp;C_d, Nbytes));</div>
<div class="line"> </div>
<div class="line">hipMemcpy(A_d, A_h, Nbytes, hipMemcpyHostToDevice);</div>
<div class="line"> </div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">unsigned</span> blocks = 512;</div>
<div class="line"><span class="keyword">const</span> <span class="keywordtype">unsigned</span> threadsPerBlock = 256;</div>
<div class="line">hipLaunchKernel(vector_square,   <span class="comment">/* compute kernel*/</span></div>
<div class="line">                dim3(blocks), dim3(threadsPerBlock), 0<span class="comment">/*dynamic shared*/</span>, 0<span class="comment">/*stream*/</span>,     <span class="comment">/* launch config*/</span></div>
<div class="line">                C_d, A_d, N);  <span class="comment">/* arguments to the compute kernel */</span></div>
<div class="line"> </div>
<div class="line">hipMemcpy(C_h, C_d, Nbytes, hipMemcpyDeviceToHost);</div>
</div><!-- fragment --><p >The HIP kernel language defines builtins for determining grid and block coordinates, math functions, short vectors, atomics, and timer functions. It also specifies additional defines and keywords for function types, address spaces, and optimization controls (See the <a class="el" href="md___users_pvelesko_local__c_h_i_p__s_p_v__h_i_p_docs_markdown_hip_kernel_language.html">HIP Kernel Language</a> for a full description). Here's an example of defining a simple 'vector_square' kernel.</p>
<div class="fragment"><div class="line"><span class="keyword">template</span> &lt;<span class="keyword">typename</span> T&gt;</div>
<div class="line">__global__ <span class="keywordtype">void</span></div>
<div class="line">vector_square(T *C_d, <span class="keyword">const</span> T *A_d, <span class="keywordtype">size_t</span> N)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">size_t</span> offset = (blockIdx.x * blockDim.x + threadIdx.x);</div>
<div class="line">    <span class="keywordtype">size_t</span> stride = blockDim.x * gridDim.x;</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">for</span> (<span class="keywordtype">size_t</span> i=offset; i&lt;N; i+=stride) {</div>
<div class="line">        C_d[i] = A_d[i] * A_d[i];</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><p >The HIP Runtime API code and compute kernel definition can exist in the same source file - HIP takes care of generating host and device code appropriately.</p>
<h1><a class="anchor" id="autotoc_md824"></a>
HIP Portability and Compiler Technology</h1>
<p >HIP C++ code can be compiled with either,</p><ul>
<li>On the NVIDIA CUDA platform, HIP provides header file which translate from the HIP runtime APIs to CUDA runtime APIs. The header file contains mostly inlined functions and thus has very low overhead - developers coding in HIP should expect the same performance as coding in native CUDA. The code is then compiled with nvcc, the standard C++ compiler provided with the CUDA SDK. Developers can use any tools supported by the CUDA SDK including the CUDA profiler and debugger.</li>
<li>On the AMD ROCm platform, HIP provides a header and runtime library built on top of HIP-Clang compiler. The HIP runtime implements HIP streams, events, and memory APIs, and is a object library that is linked with the application. The source code for all headers and the library implementation is available on GitHub. HIP developers on ROCm can use AMD's ROCgdb (<a href="https://github.com/ROCm-Developer-Tools/ROCgdb">https://github.com/ROCm-Developer-Tools/ROCgdb</a>) for debugging and profiling.</li>
</ul>
<p >Thus HIP source code can be compiled to run on either platform. Platform-specific features can be isolated to a specific platform using conditional compilation. Thus HIP provides source portability to either platform. HIP provides the <em>hipcc</em> compiler driver which will call the appropriate toolchain depending on the desired platform.</p>
<h1><a class="anchor" id="autotoc_md825"></a>
Examples and Getting Started:</h1>
<ul>
<li><a class="el" href="class_a.html">A</a> sample and <a href="https://github.com/ROCm-Developer-Tools/HIP/tree/main/samples/0_Intro/square">blog</a> that uses any of <a href="https://github.com/ROCm-Developer-Tools/HIPIFY/blob/master/README.md">HIPIFY</a> tools to convert a simple app from CUDA to HIP:</li>
</ul>
<div class="fragment"><div class="line">cd samples/01_Intro/square</div>
<div class="line"># follow README / blog steps to hipify the application.</div>
</div><!-- fragment --><ul>
<li>Guide to <a href="docs/markdown/hip_porting_guide.md#porting-a-new-cuda-project">Porting a New Cuda Project</a></li>
</ul>
<h1><a class="anchor" id="autotoc_md826"></a>
More Examples</h1>
<p >The GitHub repository <a href="https://github.com/ROCm-Developer-Tools/HIP-Examples.git">HIP-Examples</a> contains a hipified version of the popular Rodinia benchmark suite. The README with the procedures and tips the team used during this porting effort is here: <a href="https://github.com/ROCm-Developer-Tools/HIP-Examples/blob/master/rodinia_3.0/hip/README.hip_porting">Rodinia Porting Guide</a></p>
<h1><a class="anchor" id="autotoc_md827"></a>
Tour of the HIP Directories</h1>
<ul>
<li><b>include</b>:<ul>
<li><b><a class="el" href="hip__runtime__api_8h.html" title="Defines the API signatures for HIP runtime. This file can be compiled with a standard compiler.">hip_runtime_api.h</a></b> : Defines HIP runtime APIs and can be compiled with many standard Linux compilers (GCC, ICC, CLANG, etc), in either C or C++ mode.</li>
<li><b><a class="el" href="hip__runtime_8h_source.html">hip_runtime.h</a></b> : Includes everything in <a class="el" href="hip__runtime__api_8h.html" title="Defines the API signatures for HIP runtime. This file can be compiled with a standard compiler.">hip_runtime_api.h</a> PLUS hipLaunchKernel and syntax for writing device kernels and device functions. <a class="el" href="hip__runtime_8h_source.html">hip_runtime.h</a> can be compiled using a standard C++ compiler but will expose a subset of the available functions.</li>
<li>**amd_detail/**** , **nvidia_detail/**** : Implementation details for specific platforms. HIP applications should not include these files directly.</li>
</ul>
</li>
<li><b>bin</b>: Tools and scripts to help with hip porting<ul>
<li><b>hipify-perl</b> : Script based tool to convert CUDA code to portable CPP. Converts CUDA APIs and kernel builtins.</li>
<li><b>hipcc</b> : Compiler driver that can be used to replace nvcc in existing CUDA code. hipcc will call nvcc or HIP-Clang depending on platform and include appropriate platform-specific headers and libraries.</li>
<li><b>hipconfig</b> : Print HIP configuration (HIP_PATH, HIP_PLATFORM, HIP_COMPILER, HIP_RUNTIME, CXX config flags, etc.)</li>
<li><b>hipexamine-perl.sh</b> : Script to scan the directory, find all code, and report statistics on how much can be ported with HIP (and identify likely features not yet supported).</li>
<li><b>hipconvertinplace-perl.sh</b> : Script to scan the directory, find all code, and convert the found CUDA code to HIP reporting all unconverted things.</li>
</ul>
</li>
<li><b>doc</b>: Documentation - markdown and doxygen info.</li>
</ul>
<h1><a class="anchor" id="autotoc_md828"></a>
Reporting an issue</h1>
<p >Use the <a href="https://github.com/ROCm-Developer-Tools/HIP/issues">GitHub issue tracker</a>. If reporting a bug, include the output of "hipconfig --full" and samples/1_hipInfo/hipInfo (if possible). </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.2
</small></address>
</body>
</html>
